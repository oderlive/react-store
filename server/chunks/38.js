exports.id=38,exports.ids=[38],exports.modules={75540:(e,s,t)=>{let a={"4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49":()=>Promise.resolve().then(t.bind(t,17292)).then(e=>e.createOrder),"63a1f7ff15632f06077a8eecd788805737726c50":()=>Promise.resolve().then(t.bind(t,17292)).then(e=>e.registerUser),"9255dd54e80608048ad1b05b9221da43799ff17b":()=>Promise.resolve().then(t.bind(t,17292)).then(e=>e.updateUserInfo)};async function r(e,...s){return(await a[e]()).apply(null,s)}e.exports={"4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49":r.bind(null,"4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49"),"63a1f7ff15632f06077a8eecd788805737726c50":r.bind(null,"63a1f7ff15632f06077a8eecd788805737726c50"),"9255dd54e80608048ad1b05b9221da43799ff17b":r.bind(null,"9255dd54e80608048ad1b05b9221da43799ff17b")}},34583:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,63642,23)),Promise.resolve().then(t.t.bind(t,87586,23)),Promise.resolve().then(t.t.bind(t,47838,23)),Promise.resolve().then(t.t.bind(t,58057,23)),Promise.resolve().then(t.t.bind(t,77741,23)),Promise.resolve().then(t.t.bind(t,13118,23))},62636:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,34080,23)),Promise.resolve().then(t.bind(t,7045)),Promise.resolve().then(t.bind(t,60669)),Promise.resolve().then(t.bind(t,95034)),Promise.resolve().then(t.bind(t,96958)),Promise.resolve().then(t.bind(t,26484)),Promise.resolve().then(t.bind(t,17844)),Promise.resolve().then(t.bind(t,52063)),Promise.resolve().then(t.bind(t,89668)),Promise.resolve().then(t.bind(t,48766)),Promise.resolve().then(t.bind(t,25817)),Promise.resolve().then(t.bind(t,81905)),Promise.resolve().then(t.bind(t,2178)),Promise.resolve().then(t.bind(t,40397)),Promise.resolve().then(t.bind(t,47495)),Promise.resolve().then(t.bind(t,42302)),Promise.resolve().then(t.bind(t,71009)),Promise.resolve().then(t.bind(t,93119)),Promise.resolve().then(t.bind(t,68701)),Promise.resolve().then(t.bind(t,74881)),Promise.resolve().then(t.bind(t,9076)),Promise.resolve().then(t.bind(t,7298)),Promise.resolve().then(t.bind(t,63828)),Promise.resolve().then(t.bind(t,30955)),Promise.resolve().then(t.bind(t,12885))},67835:(e,s,t)=>{"use strict";t.d(s,{LV:()=>i,a$:()=>r,gS:()=>n}),t(70689);var a=t(11294),r=(0,a.$)("63a1f7ff15632f06077a8eecd788805737726c50"),i=(0,a.$)("4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49"),n=(0,a.$)("9255dd54e80608048ad1b05b9221da43799ff17b")},12286:(e,s,t)=>{"use strict";t.d(s,{Dx:()=>a.Dx,W2:()=>a.W2,hl:()=>a.hl,lJ:()=>a.lJ,rE:()=>a.rE,xU:()=>a.xU,zx:()=>r.zx});var a=t(70641),r=t(58004)},7045:(e,s,t)=>{"use strict";t.d(s,{CartButton:()=>c});var a=t(97247),r=t(85653);t(28964);var i=t(58004),n=t(54636),o=t(47358),l=t(60669),d=t(26763);let c=({className:e})=>{let[s,t,c]=(0,d.x)(e=>[e.totalAmount,e.items,e.loading]);return a.jsx(l.CartDrawer,{children:(0,a.jsxs)(i.zx,{disabled:c,className:(0,r.cn)("group relative",{"w-[105px]":c},e),children:[(0,a.jsxs)("b",{children:[s," р"]}),a.jsx("span",{className:"h-full w-[1px] bg-white/30 mx-3"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 transition duration-300 group-hover:opacity-0",children:[a.jsx(n.Z,{size:16,className:"relative",strokeWidth:2}),a.jsx("b",{children:t.length})]}),a.jsx(o.Z,{size:20,className:"absolute right-5 transition duration-300 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"})]})})}},92645:(e,s,t)=>{"use strict";t.d(s,{o:()=>l});var a=t(97247),r=t(85653);t(28964);var i=t(33669),n=t(5176),o=t(33841);let l=({className:e,imageUrl:s,name:t,price:l,quantity:d,details:c,onClickCountButton:x,onClickRemove:m,disabled:p})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex bg-white p-5 gap-6",{"opacity-50 pointer-events-none":p},e),children:[a.jsx(i.Ee,{src:s}),a.jsx("div",{children:(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(i.kI,{details:c,name:t}),a.jsx("hr",{className:"my-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(n.r,{onClick:x,value:d}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(i.tA,{value:l}),a.jsx(o.Z,{onClick:m,className:"text-gray-400 cursor-pointer hover:text-gray-600",size:16})]})]})]})})]})},60669:(e,s,t)=>{"use strict";t.d(s,{CartDrawer:()=>D});var a=t(97247),r=t(28964),i=t(79906),n=t(58004),o=t(77940),l=t(47358),d=t(50400),c=t(2095),x=t(77247),m=t(85653);let p=d.fC,u=d.xz,h=d.x8,g=d.h_,f=r.forwardRef(({className:e,...s},t)=>a.jsx(d.aV,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));f.displayName=d.aV.displayName;let z=(0,x.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),w=r.forwardRef(({side:e="right",className:s,children:t,...r},i)=>(0,a.jsxs)(g,{children:[a.jsx(f,{}),(0,a.jsxs)(d.VY,{ref:i,className:(0,m.cn)(z({side:e}),s),...r,children:[(0,a.jsxs)(d.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(c.Pxu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),t]})]}));w.displayName=d.VY.displayName;let b=({className:e,...s})=>a.jsx("div",{className:(0,m.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...s});b.displayName="SheetHeader";let y=({className:e,...s})=>a.jsx("div",{className:(0,m.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});y.displayName="SheetFooter";let v=r.forwardRef(({className:e,...s},t)=>a.jsx(d.Dx,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",e),...s}));v.displayName=d.Dx.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(d.dk,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",e),...s})).displayName=d.dk.displayName;var j=t(92645),N=t(9481),T=t(44597),S=t(7365),C=t(31509);let D=({children:e})=>{let{totalAmount:s,updateItemQuantity:t,items:d,removeCartItem:c}=(0,C.jD)(),[x,g]=(0,r.useState)(!1),f=(e,s,a)=>{t(e,"plus"===a?s+1:s-1)};return(0,a.jsxs)(p,{children:[a.jsx(u,{asChild:!0,children:e}),a.jsx(w,{className:"flex flex-col justify-between pb-0 bg-[#F4F1EE]",children:(0,a.jsxs)("div",{className:(0,m.cn)("flex flex-col h-full",!s&&"justify-center"),children:[s>0&&a.jsx(b,{children:(0,a.jsxs)(v,{children:["В корзине ",(0,a.jsxs)("span",{className:"font-bold",children:[d.length," товара"]})]})}),!s&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-70 mx-auto",children:[a.jsx(T.default,{src:"/assets/images/empty-box.png",alt:"Empty cart",width:120,height:120}),a.jsx(S.D,{size:"sm",text:"Корзина пустая",className:"text-center font-bold my-2"}),a.jsx("p",{className:"text-center text-neutral-500 mb-5",children:"Добавьте хотя бы одну пиццу, чтобы совершит заказ"}),a.jsx(h,{children:(0,a.jsxs)(n.zx,{className:"w-56 h-12 text-base",size:"lg",children:[a.jsx(o.Z,{className:"w-5 mr-2"}),"Вернуться назад"]})})]}),s>0&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"-mx-6 mt-5 overflow-auto flex-1",children:a.jsx("div",{className:"mb-2",children:d.map(e=>a.jsx(j.o,{id:e.id,imageUrl:e.imageUrl,details:(0,N.qC)(e.ingredients,e.pizzaType,e.pizzaSize),disabled:e.disabled,name:e.name,price:e.price,quantity:e.quantity,onClickCountButton:s=>f(e.id,e.quantity,s),onClickRemove:()=>c(e.id)},e.id))})}),a.jsx(y,{className:"mx-6 bg-white p-8",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex mb-4",children:[(0,a.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:["Итого",a.jsx("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[s," ₽"]})]}),a.jsx(i.default,{href:"/checkout",children:(0,a.jsxs)(n.zx,{onClick:()=>g(!0),loading:x,type:"submit",className:"w-full h-12 text-base",children:["Оформить заказ",a.jsx(l.Z,{className:"w-5 ml-2"})]})})]})})]})]})})]})}},33669:(e,s,t)=>{"use strict";t.d(s,{r:()=>l,Ee:()=>n,kI:()=>r,tA:()=>o});var a=t(97247);let r=({name:e,details:s})=>(0,a.jsxs)("div",{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h2",{className:"text-lg font-bold flex-1 leading-6",children:e})}),s&&a.jsx("p",{className:"text-xs text-gray-400",children:s})]});var i=t(85653);let n=({src:e,className:s})=>a.jsx("img",{className:(0,i.cn)("w-[60px] h-[60px]",s),src:e}),o=({value:e,className:s})=>(0,a.jsxs)("h2",{className:(0,i.cn)("font-bold",s),children:[e," ₽"]}),l=t(5176).r},95034:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Categories:()=>n});var a=t(97247),r=t(85653);t(28964);var i=t(66519);let n=({items:e,className:s})=>{let t=(0,i.v)(e=>e.activeId);return a.jsx("div",{className:(0,r.cn)("inline-flex gap-1 bg-gray-50 p-1 rounded-2xl",s),children:e.map(({name:e,id:s},i)=>a.jsx("a",{className:(0,r.cn)("flex items-center font-bold h-11 rounded-2xl px-5",t===s&&"bg-white shadow-md shadow-gray-200 text-primary"),href:`/#${e}`,children:a.jsx("button",{children:e})},i))})}},96958:(e,s,t)=>{"use strict";t.d(s,{CheckboxFilterGroup:()=>l});var a=t(97247),r=t(28964),i=t(86191),n=t(5731),o=t(58004);let l=({title:e,items:s,defaultItems:t,limit:l=5,searchInputPlaceholder:d="Поиск...",className:c,onClickCheckbox:x,defaultValue:m,loading:p,selected:u,name:h})=>{let[g,f]=(0,r.useState)(!1),[z,w]=(0,r.useState)(""),b=g?s.filter(e=>e.text.toLowerCase().includes(z.toLocaleLowerCase())):(t||s).slice(0,l);return p?(0,a.jsxs)("div",{className:c,children:[a.jsx("p",{className:"font-bold mb-3",children:e}),...Array(l).fill(0).map((e,s)=>a.jsx(o.Od,{className:"mb-4 h-6 rounded-[8px]"},s))]}):(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-bold mb-3",children:e}),g&&a.jsx("div",{className:"mb-5",children:a.jsx(i.I,{onChange:e=>{w(e.target.value)},placeholder:d,className:"bg-gray-50 border-none"})}),a.jsx("div",{className:"flex flex-col gap-4 max-h-96 pr-2 overflow-auto scrollbar",children:b.map((e,s)=>a.jsx(n.T,{text:e.text,value:e.value,endAdornment:e.endAdornment,checked:u?.has(e.value),onCheckedChange:()=>x?.(e.value),name:h},s))}),s.length>l&&a.jsx("div",{className:g?"border-t border-t-neutral-100 mt-4":"",children:a.jsx("button",{onClick:()=>f(!g),className:"text-primary mt-3",children:g?"Скрыть":"+ Показать все"})})]})}},26484:(e,s,t)=>{"use strict";t.r(s),t.d(s,{CheckoutItem:()=>o});var a=t(97247),r=t(85653),i=t(37013);t(28964);var n=t(33669);let o=({name:e,price:s,imageUrl:t,quantity:o,details:l,className:d,disabled:c,onClickCountButton:x,onClickRemove:m})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between",{"opacity-50 pointer-events-none":c},d),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[a.jsx(n.Ee,{src:t}),a.jsx(n.kI,{name:e,details:l})]}),a.jsx(n.tA,{value:s}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[a.jsx(n.r,{onClick:x,value:o}),a.jsx("button",{type:"button",onClick:m,children:a.jsx(i.Z,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})},17844:(e,s,t)=>{"use strict";t.d(s,{CheckoutAddressForm:()=>c});var a=t(97247),r=t(95294),i=t(37491),n=t(78688);t(1225);let o=({onChange:e})=>a.jsx(n.pZ,{token:"21947c4e741b26e39365459d6cf45f473be83686",onChange:s=>e?.(s?.value)});var l=t(2704),d=t(73195);let c=({className:e})=>{let{control:s}=(0,l.Gc)();return a.jsx(r.n,{title:"3. Адрес доставки",className:e,children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[a.jsx(l.Qr,{control:s,name:"address",render:({field:e,fieldState:s})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx(o,{onChange:e.onChange}),s.error?.message&&a.jsx(d.y,{text:s.error.message})]})}),a.jsx(i.B,{name:"comment",className:"text-base",rows:5,placeholder:"Комментарий к заказу"})]})})}},13447:(e,s,t)=>{"use strict";t.d(s,{K:()=>o});var a=t(97247),r=t(85653);t(28964);var i=t(7365),n=t(58004);let o=({imageUrl:e,name:s,onSubmit:t,className:o,price:l,loading:d})=>(0,a.jsxs)("div",{className:(0,r.cn)(o,"flex flex-1"),children:[a.jsx("div",{className:"flex items-center justify-content flex-1 relative w-full",children:a.jsx("img",{src:e,alt:"Logo",className:"relative left-2 top-2 transition-all z-10 duration-300 w-[350px] h-[350px]"})}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[a.jsx(i.D,{text:s,size:"md",className:"font-extrabold mb-1"}),(0,a.jsxs)(n.zx,{onClick:()=>t?.(),className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",l," ₽"]})]})]})},62347:(e,s,t)=>{"use strict";t.d(s,{C:()=>n});var a=t(97247),r=t(85653),i=t(37013);t(28964);let n=({onClick:e,className:s})=>a.jsx("button",{onClick:e,className:(0,r.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",s),children:a.jsx(i.Z,{className:"h-5 w-5"})})},23443:(e,s,t)=>{"use strict";t.d(s,{W:()=>i});var a=t(97247),r=t(85653);t(28964);let i=({className:e,children:s})=>a.jsx("div",{className:(0,r.cn)("mx-auto max-w-[1280px]",e),children:s})},5176:(e,s,t)=>{"use strict";t.d(s,{r:()=>d});var a=t(97247);t(28964);var r=t(99219),i=t(78812),n=t(85653),o=t(58004);let l=({size:e="sm",disabled:s,type:t,onClick:l})=>a.jsx(o.zx,{variant:"outline",disabled:s,onClick:l,type:"button",className:(0,n.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===e?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===t?a.jsx(r.Z,{className:"sm"===e?"h-4":"h-5"}):a.jsx(i.Z,{className:"sm"===e?"h-4":"h-5"})}),d=({className:e,onClick:s,value:t=1,size:r="sm"})=>(0,a.jsxs)("div",{className:(0,n.cn)("inline-flex items-center justify-between gap-3",e),children:[a.jsx(l,{onClick:()=>s?.("minus"),disabled:1===t,size:r,type:"minus"}),a.jsx("b",{className:"sm"===r?"text-sm":"text-md",children:t}),a.jsx(l,{onClick:()=>s?.("plus"),size:r,type:"plus"})]})},73195:(e,s,t)=>{"use strict";t.d(s,{y:()=>i});var a=t(97247),r=t(85653);t(28964);let i=({text:e,className:s})=>a.jsx("p",{className:(0,r.cn)("text-red-500 text-sm mt-2",s),children:e})},5731:(e,s,t)=>{"use strict";t.d(s,{T:()=>i});var a=t(97247);t(28964);var r=t(58004);let i=({text:e,value:s,endAdornment:t,onCheckedChange:i,checked:n,name:o})=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(r.XZ,{onCheckedChange:i,checked:n,value:s,className:"rounded-[8px] w-6 h-6",id:`checkbox-${String(o)}-${String(s)}`}),a.jsx("label",{htmlFor:`checkbox-${String(o)}-${String(s)}`,className:"leading-none cursor-pointer flex-1",children:e}),t]})},52063:(e,s,t)=>{"use strict";t.d(s,{Filters:()=>d});var a=t(97247);t(28964);var r=t(7365),i=t(86191),n=t(71009),o=t(96958),l=t(31509);let d=({className:e})=>{let{ingredients:s,loading:t}=(0,l.eO)(),d=(0,l.mN)();(0,l.n9)(d);let c=s.map(e=>({value:String(e.id),text:e.name}));return(0,a.jsxs)("div",{children:[a.jsx(r.D,{text:"Фильтрация",size:"sm",className:"mb-5 font-bold"}),a.jsx(o.CheckboxFilterGroup,{title:"Тип теста",name:"pizzaTypes",className:"mb-5",onClickCheckbox:d.setPizzaTypes,selected:d.pizzaTypes,items:[{text:"Тонкое",value:"1"},{text:"Традиционное",value:"2"}]}),a.jsx("div",{className:"flex flex-col gap-4",children:a.jsx(o.CheckboxFilterGroup,{title:"Размеры",name:"sizes",className:"mb-5",onClickCheckbox:d.setSizes,selected:d.sizes,items:[{text:"20 см",value:"20"},{text:"30 см",value:"30"},{text:"40 см",value:"40"}]})}),(0,a.jsxs)("div",{className:"mt-5 border-y border-y-neutral-100 py-6 pb-7",children:[a.jsx("p",{className:"font-bold mb-3",children:" Цена от и до"}),(0,a.jsxs)("div",{className:"flex gap-3 mb-5",children:[a.jsx(i.I,{type:"number",placeholder:"0",min:0,max:1e3,value:String(d.prices.priceFrom||"0"),onChange:e=>d.setPrices("priceFrom",Number(e.target.value))}),a.jsx(i.I,{type:"number",placeholder:"1000",min:100,max:1e3,value:String(d.prices.priceTo||"1000"),onChange:e=>d.setPrices("priceTo",Number(e.target.value))})]}),a.jsx(n.RangeSlider,{min:0,max:1e3,step:10,value:[d.prices.priceFrom||0,d.prices.priceTo||1e3],onValueChange:e=>{d.setPrices("priceFrom",e[0]),d.setPrices("priceTo",e[1])}})]}),a.jsx(o.CheckboxFilterGroup,{title:"Ингредиенты",name:"ingredients",className:"mt-5",limit:3,defaultItems:c.slice(0,6),items:c,loading:t,onClickCheckbox:d.setSelectedIngredients,selected:d.selectedIngredients})]})}},37491:(e,s,t)=>{"use strict";t.d(s,{y:()=>d,B:()=>x});var a=t(97247),r=t(72838),i=t(58004),n=t(73195),o=t(62347),l=t(2704);let d=({className:e,name:s,label:t,required:d,...c})=>{let{register:x,formState:{errors:m},watch:p,setValue:u}=(0,l.Gc)(),h=p(s),g=m[s]?.message;return(0,a.jsxs)("div",{className:e,children:[t&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[t," ",d&&a.jsx(r.H,{})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(i.II,{className:"h-12 text-md",...x(s),...c}),h&&a.jsx(o.C,{onClick:()=>{u(s,"",{shouldValidate:!0})}})]}),g&&a.jsx(n.y,{text:g,className:"mt-2"})]})};t(28964);var c=t(1691);let x=({className:e,name:s,label:t,required:r,...i})=>{let{register:n,formState:{errors:d},watch:x,setValue:m}=(0,l.Gc)(),p=x(s),u=d[s]?.message;return(0,a.jsxs)("div",{className:e,children:[(0,a.jsxs)("p",{className:"font-medium mb-2",children:[t," ",r&&a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.g,{className:"h-12 text-md",...n(s),...i}),p&&a.jsx(o.C,{onClick:()=>{m(s,"")}})]}),u&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:u})]})}},89668:(e,s,t)=>{"use strict";t.d(s,{GroupVariants:()=>i});var a=t(97247),r=t(85653);t(28964);let i=({items:e,onClick:s,className:t,value:i})=>a.jsx("div",{className:(0,r.cn)(t,"flex justify-between bg-[#F3F3F7] rounded-3xl p-1 select-none"),children:e.map(e=>a.jsx("button",{onClick:()=>s?.(e.value),className:(0,r.cn)("flex items-center justify-center cursor-pointer h-[30px] px-5 flex-1 rounded-3xl transition-all duration-400 text-sm",{"bg-white shadow":e.value===i,"text-gray-500 opacity-50 pointer-events-none":e.disabled}),children:e.name},e.name))})},48766:(e,s,t)=>{"use strict";t.d(s,{Header:()=>h});var a=t(97247),r=t(85653),i=t(44597),n=t(79906),o=t(34178),l=t(28964),d=t(72411),c=t(7045),x=t(23443),m=t(53512),p=t(93119),u=t(85174);let h=({className:e,hasSearch:s=!0,hasCart:t=!0})=>{let h=(0,o.useRouter)(),[g,f]=(0,l.useState)(!1),z=(0,o.useSearchParams)();return(0,l.useEffect)(()=>{let e="";z.has("paid")&&(e="Заказ успешно оплачен! Информация отправлена на почту"),z.has("verified")&&(e="Почта успешно подтверждена"),e&&setTimeout(()=>{h.replace("/"),d.ZP.success(e,{duration:3e3})},1e3)},[]),a.jsx("header",{className:(0,r.cn)("border-b",e),children:(0,a.jsxs)(x.W,{className:"flex item-center justify-between py-8",children:[a.jsx(n.default,{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(i.default,{src:"/logo.png",alt:"Logo",width:35,height:35}),(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl uppercase font-black",children:"Next Pizza"}),a.jsx("p",{className:"text-sm text-gray-400 leading-3",children:"вкусней уже некуда"})]})]})}),s&&a.jsx("div",{className:"mx-10 flex-1",children:a.jsx(p.SearchInput,{})}),a.jsx("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx(u.Q,{open:g,onClose:()=>f(!1)}),a.jsx(m.B,{onClickSignIn:()=>f(!0)}),t&&a.jsx(c.CartButton,{})]})})]})})}},70641:(e,s,t)=>{"use strict";t.d(s,{hl:()=>v.CheckoutAddressForm,xU:()=>b,lJ:()=>y,rE:()=>f,W2:()=>a.W,HG:()=>n.ProductForm,Dx:()=>r.D}),t(48766);var a=t(23443),r=t(7365);t(95034);var i=t(97247);t(28964),t(52063),t(5731),t(71009),t(96958),t(48182),t(40397),t(93119),t(96086),t(89668),t(85174),t(13447),t(97229),t(7045),t(60669),t(92645);var n=t(2178),o=t(95294),l=t(85653);let d=({className:e,title:s,value:t})=>(0,i.jsxs)("div",{className:(0,l.cn)("flex my-4",e),children:[(0,i.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:[s,i.jsx("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),i.jsx("span",{className:"font-bold text-lg",children:t})]});var c=t(26484);let x=({className:e})=>(0,i.jsxs)("div",{className:(0,l.cn)("flex items-center justify-between",e),children:[(0,i.jsxs)("div",{className:"flex items-center gap-5",children:[i.jsx("div",{className:"w-[50px] h-[50px] bg-gray-200 rounded-full animate-pulse"}),i.jsx("h2",{className:"w-40 h-5 bg-gray-200 rounded animate-pulse"})]}),i.jsx("div",{className:"h-5 w-10 bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-8 w-[133px] bg-gray-200 rounded animate-pulse"})]});var m=t(91044),p=t(62907),u=t(91908),h=t(47358),g=t(58004);let f=({totalAmount:e,className:s,loading:t})=>{let a=15*e/100;return(0,i.jsxs)(o.n,{className:(0,l.cn)("p-6 sticky top-4",s),children:[(0,i.jsxs)("div",{className:"flex flex-col gap-1",children:[i.jsx("span",{className:"flex-xl",children:"Итого:"}),t?i.jsx(g.Od,{className:"h-11 w-48"}):(0,i.jsxs)("span",{className:"h-11 text-[34px] font-extrabold",children:[e+250+a," р."]})]}),i.jsx(d,{title:i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(m.Z,{size:18,className:"mr-2 text-gray-400"}),"Стоимость корзины:"]})}),value:t?i.jsx(g.Od,{className:"h-6 w-16 rounded-[6px]"}):`${e} р.`}),i.jsx(d,{title:i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(p.Z,{size:18,className:"mr-2 text-gray-400"}),"Налоги:"]})}),value:t?i.jsx(g.Od,{className:"h-6 w-16 rounded-[6px]"}):`${a} р.`}),i.jsx(d,{title:i.jsx(i.Fragment,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[i.jsx(u.Z,{size:18,className:"mr-2 text-gray-400"}),"Доставка:"]})}),value:t?i.jsx(g.Od,{className:"h-6 w-16 rounded-[6px]"}):`250 р.`}),(0,i.jsxs)(g.zx,{loading:t,type:"submit",className:"w-full h-14 rounded-2xl mt-6 text-base font-bold",children:["Перейти к оплате",i.jsx(h.Z,{className:"w-5 ml-2"})]})]})};t(72838),t(73195),t(62347);var z=t(37491),w=t(9481);let b=({className:e,items:s,onClickCountButton:t,removeCartItem:a,loading:r})=>i.jsx(o.n,{title:"1. Корзина",className:e,children:i.jsx("div",{className:"flex flex-col gap-5",children:r?[void 0,void 0,void 0,void 0].map((e,s)=>i.jsx(x,{},s)):s.map(e=>i.jsx(c.CheckoutItem,{id:e.id,imageUrl:e.imageUrl,details:(0,w.qC)(e.ingredients,e.pizzaType,e.pizzaSize),name:e.name,price:e.price,quantity:e.quantity,disabled:e.disabled,onClickCountButton:s=>t(e.id,e.quantity,s),onClickRemove:()=>a(e.id)},e.id))})}),y=({className:e})=>i.jsx(o.n,{title:"2. Персональные данные",className:e,children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[i.jsx(z.y,{name:"firstName",className:"text-base",placeholder:"Имя"}),i.jsx(z.y,{name:"lastName",className:"text-base",placeholder:"Фамилия"}),i.jsx(z.y,{name:"email",className:"text-base",placeholder:"E-Mail"}),i.jsx(z.y,{name:"phone",className:"text-base",placeholder:"Телефон"})]})});var v=t(17844);t(87456),t(42302),t(53512),t(47495),t(29644),t(79906),t(68701)},97229:(e,s,t)=>{"use strict";t.d(s,{d:()=>n});var a=t(97247),r=t(85653);t(28964);var i=t(74747);let n=({className:e,active:s,price:t,name:n,imageUrl:o,onClick:l})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center flex-col p-1 rounded-md w-32 text-center relative cursor-pointer shadow-md bg-white",{"border border-primary":s},e),onClick:l,children:[s&&a.jsx(i.Z,{className:"absolute top-2 right-2 text-primary"}),a.jsx("img",{width:110,height:110,src:o}),a.jsx("span",{className:"text-xs mb-1",children:n}),(0,a.jsxs)("span",{className:"font-bold",children:[t," ₽"]})]})},25817:(e,s,t)=>{"use strict";t.d(s,{AuthModal:()=>w});var a=t(97247),r=t(12286),i=t(9076),n=t(19898),o=t(28964),l=t.n(o),d=t(2704),c=t(35082),x=t(34631),m=t(7365),p=t(37491),u=t(58004),h=t(72411);let g=({onClose:e})=>{let s=(0,d.cI)({resolver:(0,x.F)(c.kj),defaultValues:{email:"",password:""}}),t=async s=>{try{let t=await (0,n.signIn)("credentials",{...s,redirect:!1});if(!t?.ok)throw Error();h.ZP.success("Вы успешно вошли в аккаунт",{icon:"✅"}),e?.()}catch(e){console.error("Error [LOGIN]",e),h.ZP.error("Не удалось войти в аккаунт",{icon:"❌"})}};return a.jsx(d.RV,{...s,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:s.handleSubmit(t),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"mr-2",children:[a.jsx(m.D,{text:"Вход в аккаунт",size:"md",className:"font-bold"}),a.jsx("p",{className:"text-gray-400",children:"Введите свою почту, чтобы войти в свой аккаунт"})]}),a.jsx("img",{src:"/assets/images/phone-icon.png",alt:"phone-icon",width:60,height:60})]}),a.jsx(p.y,{name:"email",label:"E-Mail",required:!0}),a.jsx(p.y,{name:"password",label:"Пароль",type:"password",required:!0}),a.jsx(u.zx,{loading:s.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Войти"})]})})};var f=t(67835);let z=({onClose:e,onClickLogin:s})=>{let t=(0,d.cI)({resolver:(0,x.F)(c.Ms),defaultValues:{email:"",fullName:"",password:"",confirmPassword:""}}),r=async s=>{try{await (0,f.a$)({email:s.email,fullName:s.fullName,password:s.password}),h.ZP.error("Регистрация успешна \uD83D\uDCDD. Подтвердите свою почту",{icon:"✅"}),e?.()}catch(e){return h.ZP.error("Неверный E-Mail или пароль",{icon:"❌"})}};return a.jsx(d.RV,{...t,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:t.handleSubmit(r),children:[a.jsx(p.y,{name:"email",label:"E-Mail",required:!0}),a.jsx(p.y,{name:"fullName",label:"Полное имя",required:!0}),a.jsx(p.y,{name:"password",label:"Пароль",type:"password",required:!0}),a.jsx(p.y,{name:"confirmPassword",label:"Подтвердите пароль",type:"password",required:!0}),a.jsx(u.zx,{loading:t.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Зарегистрироваться"})]})})},w=({open:e,onClose:s})=>{let[t,o]=l().useState("login"),d=()=>{s()};return a.jsx(i.Dialog,{open:e,onOpenChange:d,children:(0,a.jsxs)(i.DialogContent,{className:"w-[450px] bg-white p-10",children:["login"===t?a.jsx(g,{onClose:d}):a.jsx(z,{onClose:d}),a.jsx("hr",{}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.zx,{variant:"secondary",onClick:()=>(0,n.signIn)("github",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[a.jsx("img",{className:"w-6 h-6",src:"https://github.githubassets.com/favicons/favicon.svg"}),"GitHub"]}),(0,a.jsxs)(r.zx,{variant:"secondary",onClick:()=>(0,n.signIn)("google",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[a.jsx("img",{className:"w-6 h-6",src:"https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg"}),"Google"]})]}),a.jsx(r.zx,{variant:"outline",onClick:()=>{o("login"===t?"register":"login")},type:"button",className:"h-12",children:"login"!==t?"Войти":"Регистрация"})]})})}},35082:(e,s,t)=>{"use strict";t.d(s,{Ms:()=>n,kj:()=>i});var a=t(47751);let r=a.z.string().min(4,{message:"Введите корректный пароль"}),i=a.z.object({email:a.z.string().email({message:"Введите корректную почту"}),password:r}),n=i.merge(a.z.object({fullName:a.z.string().min(2,{message:"Введите имя и фамилию"}),confirmPassword:r})).refine(e=>e.password===e.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]})},81905:(e,s,t)=>{"use strict";t.d(s,{ChooseProductModal:()=>l});var a=t(97247),r=t(70641),i=t(9076),n=t(85653),o=t(34178);t(28964);let l=({product:e,className:s})=>{let t=(0,o.useRouter)();return a.jsx(i.Dialog,{open:!!e,onOpenChange:()=>t.back(),children:a.jsx(i.DialogContent,{className:(0,n.cn)("p-0 w-[1060px] max-w-[1060px] min-h-[550px] bg-white overflow-hidden",s),children:a.jsx(r.HG,{product:e,onSubmit:()=>t.back()})})})}},85174:(e,s,t)=>{"use strict";t.d(s,{Q:()=>a.AuthModal}),t(81905);var a=t(25817)},96086:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var a=t(97247),r=t(85653);t(28964);let i=({imageUrl:e,size:s,className:t})=>(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-center flex-1 relative w-full",t),children:[a.jsx("img",{src:e,alt:"Logo",className:(0,r.cn)("relative left-2 top-2 transition-all z-10 duration-300",{"w-[300px] h-[300px]":20===s,"w-[400px] h-[400px]":30===s,"w-[500px] h-[500px]":40===s})}),a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dashed border-2 rounded-full border-gray-200 w-[450px] h-[450px]"}),a.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dotted border-2 rounded-full border-gray-100 w-[370px] h-[370px]"})]})},48182:(e,s,t)=>{"use strict";t.d(s,{I:()=>l});var a=t(97247),r=t(99219),i=t(79906);t(28964);var n=t(29644),o=t(7365);let l=({id:e,name:s,price:t,imageUrl:l,className:d,ingredients:c})=>a.jsx("div",{children:(0,a.jsxs)(i.default,{href:`/product/${e}`,children:[a.jsx("div",{className:"flex justify-content p-6 bg-secondary rounded-lg h-[260px]",children:a.jsx("img",{className:"w-[215px] h-[215px]",src:l,alt:"Logo"})}),a.jsx(o.D,{text:s,size:"sm",className:"mb-1 mt-3 font-bold"}),a.jsx("p",{className:"text-sm text-gray-400",children:c.map(e=>e.name).join(", ")}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("span",{className:"text-[20px]",children:["от ",a.jsx("b",{children:t})]}),(0,a.jsxs)(n.z,{variant:"secondary",className:"text-base font-bold",children:[a.jsx(r.Z,{className:"w-5 h-5 mr-1",size:20}),"Добавить"]})]})]})})},2178:(e,s,t)=>{"use strict";t.d(s,{ProductForm:()=>f});var a=t(97247),r=t(26763),i=t(72411),n=t(85653);t(28964);var o=t(96086),l=t(7365),d=t(58004),c=t(89668),x=t(97229),m=t(22404),p=t(28e3),u=t(98836);let h=({imageUrl:e,name:s,ingredients:t,items:r,onSubmit:i,className:h,loading:g})=>{let{size:f,type:z,selectedIngredients:w,availableSizes:b,currentItemId:y,setSize:v,setType:j,addIngredient:N}=(0,p.a)(r),{totalPrice:T,textDetails:S}=(0,u.H)(z,f,r,t,w);return(0,a.jsxs)("div",{className:(0,n.cn)(h,"flex flex-1"),children:[a.jsx(o.p,{imageUrl:e,size:f}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[a.jsx(l.D,{text:s,size:"md",className:"font-extrabold mb-1"}),a.jsx("p",{className:"text-gray-400",children:S}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 my-5",children:[a.jsx(c.GroupVariants,{items:b,value:String(f),onClick:e=>v(Number(e))}),a.jsx(c.GroupVariants,{items:m.US,value:String(z),onClick:e=>j(Number(e))})]}),a.jsx("div",{className:"bg-gray-50 p-5 rounded-md h-[420px] overflow-auto scrollbar mt-5",children:a.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.map(e=>a.jsx(x.d,{name:e.name,price:e.price,imageUrl:e.imageUrl,onClick:()=>N(e.id),active:w.has(e.id)},e.id))})}),(0,a.jsxs)(d.zx,{onClick:()=>{y&&i(y,Array.from(w))},className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",T," ₽"]})]})]})};var g=t(13447);let f=({product:e,onSubmit:s})=>{let[t,n]=(0,r.x)(e=>[e.addCartItem,e.loading]),o=e.items[0],l=!!o.pizzaType,d=async(a,r)=>{try{let n=a??o.id;await t({productItemId:n,ingredients:r}),i.ZP.success(e.name+" добавилась в корзину"),s?.()}catch(e){i.ZP.error("Не удалось добавить товар в корзину")}};return l?a.jsx(h,{imageUrl:e.imageUrl,name:e.name,ingredients:e.ingredients,items:e.items,onSubmit:d,loading:n}):a.jsx(g.K,{imageUrl:e.imageUrl,name:e.name,onSubmit:d,price:o.price,loading:n})}},40397:(e,s,t)=>{"use strict";t.d(s,{ProductsGroupList:()=>x});var a=t(97247),r=t(85653),i=t(66519),n=t(28964),o=t.n(n),l=t(95994),d=t(48182),c=t(7365);let x=({title:e,items:s,className:t,listClassName:n,categoryId:x})=>{let m=(0,i.v)(e=>e.setActiveId),p=o().useRef(null),u=(0,l.Z)(p,{threshold:.4});return o().useEffect(()=>{u?.isIntersecting&&m(x)},[x,u?.isIntersecting,e]),(0,a.jsxs)("div",{id:e,ref:p,children:[a.jsx(c.D,{text:e,size:"lg",className:"font-extrabold mb-5"}),a.jsx("div",{className:(0,r.cn)("grid grid-cols-3 gap-[50px]",n),children:s.map(e=>a.jsx(d.I,{id:e.id,name:e.name,imageUrl:e.imageUrl,price:e.items[0].price,ingredients:e.ingredients},e.id))})]})}},53512:(e,s,t)=>{"use strict";t.d(s,{B:()=>d});var a=t(97247),r=t(19898),i=t(58004),n=t(5271),o=t(36877),l=t(79906);let d=({className:e,onClickSignIn:s})=>{let{data:t}=(0,r.useSession)();return a.jsx("div",{className:e,children:t?a.jsx(l.default,{href:"/profile",children:(0,a.jsxs)(i.zx,{variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(o.Z,{size:18}),"Профиль"]})}):(0,a.jsxs)(i.zx,{onClick:s,variant:"outline",className:"flex items-center gap-1",children:[a.jsx(n.Z,{size:16}),"Войти"]})})}},47495:(e,s,t)=>{"use strict";t.d(s,{ProfileForm:()=>u});var a=t(97247),r=t(34631);t(28964);var i=t(2704),n=t(35082),o=t(72411),l=t(19898),d=t(23443),c=t(7365),x=t(37491),m=t(58004),p=t(67835);let u=({data:e})=>{let s=(0,i.cI)({resolver:(0,r.F)(n.Ms),defaultValues:{fullName:e.fullName,email:e.email,password:"",confirmPassword:""}}),t=async e=>{try{await (0,p.gS)({email:e.email,fullName:e.fullName,password:e.password}),o.ZP.error("Данные обновлены \uD83D\uDCDD",{icon:"✅"})}catch(e){return o.ZP.error("Ошибка при обновлении данных",{icon:"❌"})}};return(0,a.jsxs)(d.W,{className:"my-10",children:[a.jsx(c.D,{text:`Личные данные | #${e.id}`,size:"md",className:"font-bold"}),a.jsx(i.RV,{...s,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5 w-96 mt-10",onSubmit:s.handleSubmit(t),children:[a.jsx(x.y,{name:"email",label:"E-Mail",required:!0}),a.jsx(x.y,{name:"fullName",label:"Полное имя",required:!0}),a.jsx(x.y,{type:"password",name:"password",label:"Новый пароль",required:!0}),a.jsx(x.y,{type:"password",name:"confirmPassword",label:"Повторите пароль",required:!0}),a.jsx(m.zx,{disabled:s.formState.isSubmitting,className:"text-base mt-10",type:"submit",children:"Сохранить"}),a.jsx(m.zx,{onClick:()=>{(0,l.signOut)({callbackUrl:"/"})},variant:"secondary",disabled:s.formState.isSubmitting,className:"text-base",type:"button",children:"Выйти"})]})})]})}},42302:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>l});var a=t(97247),r=t(72411),i=t(19898),n=t(59838),o=t.n(n);let l=({children:e})=>(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.SessionProvider,{children:e}),a.jsx(r.x7,{}),a.jsx(o(),{})]})},71009:(e,s,t)=>{"use strict";t.d(s,{RangeSlider:()=>l});var a=t(97247),r=t(28964),i=t.n(r),n=t(88518),o=t(85653);let l=i().forwardRef(({className:e,min:s,max:t,step:r,formatLabel:l,value:d,onValueChange:c,...x},m)=>{let p=Array.isArray(d)?d:[s,t],[u,h]=i().useState(p);return i().useEffect(()=>{h(Array.isArray(d)?d:[s,t])},[s,t,d]),(0,a.jsxs)(n.fC,{ref:m,min:s,max:t,step:r,value:u,onValueChange:e=>{h(e),c&&c(e)},className:(0,o.cn)("relative flex w-full touch-none select-none mb-6 items-center",e),...x,children:[a.jsx(n.fQ,{className:"relative h-1 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(n.e6,{className:"absolute h-full bg-primary"})}),u.map((e,r)=>(0,a.jsxs)(i().Fragment,{children:[a.jsx("div",{className:"absolute text-center",style:{left:`calc(${(e-s)/(t-s)*100}% + 0px)`,top:"10px"},children:a.jsx("span",{className:"text-sm",children:l?l(e):e})}),a.jsx(n.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]},r))]})});l.displayName=n.fC.displayName},72838:(e,s,t)=>{"use strict";t.d(s,{H:()=>r});var a=t(97247);t(28964);let r=()=>a.jsx("span",{className:"text-red-500",children:"*"})},93119:(e,s,t)=>{"use strict";t.d(s,{SearchInput:()=>x});var a=t(97247),r=t(28964),i=t(49256),n=t(85653),o=t(73844),l=t(47840),d=t(79906),c=t(4054);let x=({className:e})=>{let[s,t]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1),[p,u]=(0,r.useState)([]),h=(0,r.useRef)(null);(0,o.Z)(h,()=>{m(!1)}),(0,l.Z)(async()=>{try{let e=await c.V.products.search(s);u(e)}catch(e){console.log(e)}},250,[s]);let g=()=>{m(!1),t(""),u([])};return(0,a.jsxs)(a.Fragment,{children:[x&&a.jsx("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,a.jsxs)("div",{ref:h,className:(0,n.cn)("flex rounded-2xl flex-1 justify-between relative h-11 z-30",e),children:[a.jsx(i.Z,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),a.jsx("input",{className:"rounded-2xl outline-none w-full bg-gray-100 pl-11",type:"text",placeholder:"Найти пиццу...",onFocus:()=>m(!0),value:s,onChange:e=>t(e.target.value)})]}),p.length>0&&a.jsx("div",{className:(0,n.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",x&&"visible opacity-100 top-20"),children:p.map(e=>(0,a.jsxs)(d.default,{href:`/product/${e.id}`,className:"flex items-center gap-3 w-full px-3 py-2 hover:bg-primary/10",onClick:g,children:[a.jsx("img",{className:"rounded-sm h-8 w-8",src:e.imageUrl,alt:e.name}),a.jsx("span",{children:e.name})]},e.id))})]})}},68701:(e,s,t)=>{"use strict";t.d(s,{Stories:()=>m});var a=t(97247),r=t(4054),i=t(28964),n=t.n(i),o=t(23443),l=t(85653),d=t(37013),c=t(84389),x=t.n(c);let m=({className:e})=>{let[s,t]=n().useState([]),[i,c]=n().useState(!1),[m,p]=n().useState();n().useEffect(()=>{(async function(){t(await r.V.stories.getAll())})()},[]);let u=e=>{p(e),e.items.length>0&&c(!0)};return a.jsx(a.Fragment,{children:(0,a.jsxs)(o.W,{className:(0,l.cn)("flex items-center justify-between gap-2 my-10",e),children:[0===s.length&&[...Array(6)].map((e,s)=>a.jsx("div",{className:"w-[200px] h-[250px] bg-gray-200 rounded-md animate-pulse"},s)),s.map(e=>a.jsx("img",{onClick:()=>u(e),className:"rounded-md cursor-pointer",height:250,width:200,src:e.previewImageUrl},e.id)),i&&a.jsx("div",{className:"absolute left-0 top-0 w-full h-full bg-black/80 flex items-center justify-center z-30",children:(0,a.jsxs)("div",{className:"relative",style:{width:520},children:[a.jsx("button",{className:"absolute -right-10 -top-5 z-30",onClick:()=>c(!1),children:a.jsx(d.Z,{className:"absolute top-0 right-0 w-8 h-8 text-white/50"})}),a.jsx(x(),{onAllStoriesEnd:()=>c(!1),stories:m?.items.map(e=>({url:e.sourceUrl}))||[],defaultInterval:3e3,width:520,height:800})]})})]})})}},7365:(e,s,t)=>{"use strict";t.d(s,{D:()=>n});var a=t(61929),r=t(28964),i=t.n(r);let n=({text:e,size:s="sm",className:t})=>i().createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[s],{className:(0,a.Z)({xs:"text-[16px] ys-text",sm:"text-[22px] ys-text",md:"text-[26px] ys-text",lg:"text-[32px] ys-display",xl:"text-[40px] ys-display","2xl":"text-[48px] ys-display"}[s],t)},e)},95294:(e,s,t)=>{"use strict";t.d(s,{n:()=>n});var a=t(97247);t(28964);var r=t(7365),i=t(85653);let n=({title:e,endAdornment:s,className:t,contentClassName:n,children:o})=>(0,a.jsxs)("div",{className:(0,i.cn)("bg-white rounded-3xl",t),children:[e&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 px-7 border-b border-gray-100",children:[a.jsx(r.D,{text:e,size:"sm",className:"font-bold"}),s]}),a.jsx("div",{className:(0,i.cn)("px-5 py-4",n),children:o})]})},29644:(e,s,t)=>{"use strict";t.d(s,{z:()=>c});var a=t(97247),r=t(28964),i=t(69008),n=t(77247),o=t(85653),l=t(8749);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,children:n,disabled:c,loading:x,...m},p)=>{let u=r?i.g7:"button";return a.jsx(u,{disabled:c||x,className:(0,o.cn)(d({variant:s,size:t,className:e})),ref:p,...m,children:x?a.jsx(l.Z,{className:"w-5 h-5 animate-spin"}):n})});c.displayName="Button"},74881:(e,s,t)=>{"use strict";t.d(s,{Checkbox:()=>l});var a=t(97247),r=t(28964),i=t(37830),n=t(48799),o=t(85653);let l=r.forwardRef(({className:e,...s},t)=>a.jsx(i.fC,{ref:t,className:(0,o.cn)("peer h-4 w-4 shrink-0 bg-gray-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(i.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4",strokeWidth:3})})}));l.displayName=i.fC.displayName},9076:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Dialog:()=>l,DialogClose:()=>x,DialogContent:()=>p,DialogDescription:()=>f,DialogFooter:()=>h,DialogHeader:()=>u,DialogOverlay:()=>m,DialogPortal:()=>c,DialogTitle:()=>g,DialogTrigger:()=>d});var a=t(97247),r=t(28964),i=t(50400),n=t(2095),o=t(85653);let l=i.fC,d=i.xz,c=i.h_,x=i.x8,m=r.forwardRef(({className:e,...s},t)=>a.jsx(i.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=i.aV.displayName;let p=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(c,{children:[a.jsx(m,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Pxu,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));p.displayName=i.VY.displayName;let u=({className:e,...s})=>a.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});u.displayName="DialogHeader";let h=({className:e,...s})=>a.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="DialogFooter";let g=r.forwardRef(({className:e,...s},t)=>a.jsx(i.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));g.displayName=i.Dx.displayName;let f=r.forwardRef(({className:e,...s},t)=>a.jsx(i.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...s}));f.displayName=i.dk.displayName},7298:(e,s,t)=>{"use strict";t.d(s,{Drawer:()=>o});var a=t(97247),r=t(28964),i=t(94645),n=t(85653);let o=({shouldScaleBackground:e=!0,...s})=>a.jsx(i.dy.Root,{shouldScaleBackground:e,...s});o.displayName="Drawer",i.dy.Trigger;let l=i.dy.Portal;i.dy.Close;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(i.dy.Overlay,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80",e),...s}));d.displayName=i.dy.Overlay.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(l,{children:[a.jsx(d,{}),(0,a.jsxs)(i.dy.Content,{ref:r,className:(0,n.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...t,children:[a.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),s]})]})).displayName="DrawerContent",r.forwardRef(({className:e,...s},t)=>a.jsx(i.dy.Title,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s})).displayName=i.dy.Title.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.dy.Description,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s})).displayName=i.dy.Description.displayName},58004:(e,s,t)=>{"use strict";t.d(s,{zx:()=>a.z,XZ:()=>r.Checkbox,II:()=>i.I,Od:()=>l});var a=t(29644),r=t(74881);t(9076),t(7298);var i=t(86191);t(63828),t(30955);var n=t(97247),o=t(85653);function l({className:e,...s}){return n.jsx("div",{className:(0,o.cn)("animate-pulse rounded-md bg-primary/10",e),...s})}t(12885),t(1691)},86191:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var a=t(97247),r=t(28964),i=t(85653);let n=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,i.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));n.displayName="Input"},63828:(e,s,t)=>{"use strict";t.d(s,{Popover:()=>o});var a=t(97247),r=t(28964),i=t(66206),n=t(85653);let o=i.fC;i.xz,i.ee,r.forwardRef(({className:e,align:s="center",sideOffset:t=4,...r},o)=>a.jsx(i.h_,{children:a.jsx(i.VY,{ref:o,align:s,sideOffset:t,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})})).displayName=i.VY.displayName},30955:(e,s,t)=>{"use strict";t.d(s,{Select:()=>l});var a=t(97247),r=t(28964),i=t(2095),n=t(93561),o=t(85653);let l=n.fC;n.ZA,n.B4,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(n.xz,{ref:r,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,a.jsx(n.JO,{asChild:!0,children:a.jsx(i.jnn,{className:"h-4 w-4 opacity-50"})})]})).displayName=n.xz.displayName;let d=r.forwardRef(({className:e,...s},t)=>a.jsx(n.u_,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(i.g8U,{})}));d.displayName=n.u_.displayName;let c=r.forwardRef(({className:e,...s},t)=>a.jsx(n.$G,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(i.v4q,{})}));c.displayName=n.$G.displayName,r.forwardRef(({className:e,children:s,position:t="popper",...r},i)=>a.jsx(n.h_,{children:(0,a.jsxs)(n.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(d,{}),a.jsx(n.l_,{className:(0,o.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(c,{})]})})).displayName=n.VY.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(n.__,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",e),...s})).displayName=n.__.displayName,r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(n.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(n.wU,{children:a.jsx(i.nQG,{className:"h-4 w-4"})})}),a.jsx(n.eT,{children:s})]})).displayName=n.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(n.Z0,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=n.Z0.displayName},12885:(e,s,t)=>{"use strict";t.d(s,{Slider:()=>o});var a=t(97247),r=t(28964),i=t(88518),n=t(85653);let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsxs)(i.fC,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[a.jsx(i.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(i.e6,{className:"absolute h-full bg-primary"})}),a.jsx(i.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));o.displayName=i.fC.displayName},1691:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(97247),r=t(28964),i=t(85653);let n=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));n.displayName="Textarea"},87456:(e,s,t)=>{"use strict";t.d(s,{a:()=>r});var a=t(47751);let r=a.z.object({firstName:a.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),lastName:a.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:a.z.string().email({message:"Введите корректную почту"}),phone:a.z.string().min(10,{message:"Введите корректный номер телефона"}),address:a.z.string().min(5,{message:"Введите корректный адрес"}),comment:a.z.string().optional()})},22404:(e,s,t)=>{"use strict";t.d(s,{E$:()=>r,US:()=>i,oh:()=>a});let a={1:"традиционное",2:"тонкое"},r=Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(([e,s])=>({name:s,value:e})),i=Object.entries(a).map(([e,s])=>({name:s,value:e}))},31509:(e,s,t)=>{"use strict";t.d(s,{jD:()=>u,mN:()=>o,eO:()=>d,n9:()=>m});var a=t(34178),r=t(72132),i=t(28964),n=t.n(i);let o=()=>{(0,a.useRouter)();let e=(0,a.useSearchParams)(),[s,{toggle:t}]=(0,r.Z)(new Set(e.get("ingredients")?.split(","))),[n,{toggle:o}]=(0,r.Z)(new Set(e.has("sizes")?e.get("sizes")?.split(","):[])),[l,{toggle:d}]=(0,r.Z)(new Set(e.has("pizzaTypes")?e.get("pizzaTypes")?.split(","):[])),[c,x]=(0,i.useState)({priceFrom:Number(e.get("priceFrom"))||void 0,priceTo:Number(e.get("priceTo"))||void 0}),m=(e,s)=>{x(t=>({...t,[e]:s}))};return(0,i.useMemo)(()=>({sizes:n,pizzaTypes:l,selectedIngredients:s,prices:c,setPrices:m,setPizzaTypes:d,setSizes:o,setSelectedIngredients:t}),[n,l,s,c])};var l=t(4054);let d=()=>{let[e,s]=(0,i.useState)([]),[t,a]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{(async function(){try{a(!0);let e=await l.V.ingredients.getAll();s(e)}catch(e){console.log(e)}finally{a(!1)}})()},[]),{ingredients:e,loading:t}};var c=t(74488),x=t.n(c);let m=e=>{let s=n().useRef(!1),t=(0,a.useRouter)();n().useEffect(()=>{if(s.current){let s={...e.prices,pizzaTypes:Array.from(e.pizzaTypes),sizes:Array.from(e.sizes),ingredients:Array.from(e.selectedIngredients)},a=x().stringify(s,{arrayFormat:"comma"});t.push(`?${a}`,{scroll:!1}),console.log(e,999)}s.current=!0},[e])};t(28e3);var p=t(26763);let u=()=>{let e=(0,p.x)(e=>e);return(0,i.useEffect)(()=>{e.fetchCartItems()},[]),e}},28e3:(e,s,t)=>{"use strict";t.d(s,{a:()=>n});var a=t(28964),r=t(72132),i=t(9481);let n=e=>{let[s,t]=(0,a.useState)(20),[n,o]=(0,a.useState)(1),[l,{toggle:d}]=(0,r.Z)(new Set([])),c=(0,i.I7)(n,e),x=e.find(e=>e.pizzaType===n&&e.size===s)?.id;return(0,a.useEffect)(()=>{let e=c?.find(e=>Number(e.value)===s&&!e.disabled),a=c?.find(e=>!e.disabled);!e&&a&&t(Number(a.value))},[n]),{size:s,type:n,selectedIngredients:l,availableSizes:c,currentItemId:x,setSize:t,setType:o,addIngredient:d}}},98836:(e,s,t)=>{"use strict";t.d(s,{H:()=>i});var a=t(22404);let r=(e,s,t,a,r)=>(t.find(t=>t.pizzaType===e&&t.size===s)?.price||0)+a.filter(e=>r.has(e.id)).reduce((e,s)=>e+s.price,0),i=(e,s,t,i,n)=>({totalPrice:r(e,s,t,i,n),textDetails:`${s} см, тесто ${a.oh[e]}`})},9481:(e,s,t)=>{"use strict";t.d(s,{I7:()=>r,iS:()=>o,qC:()=>i});var a=t(22404);let r=(e,s)=>{let t=s.filter(s=>s.pizzaType===e);return a.E$.map(e=>({name:e.name,value:e.value,disabled:!t.some(s=>Number(s.size)===Number(e.value))}))};t(98836);let i=(e,s,t)=>{let r=[];if(t&&s){let e=a.oh[s];r.push(`${e} ${t} см`)}return e&&r.push(...e.map(e=>e.name)),r.join(", ")},n=e=>(e.ingredients.reduce((e,s)=>e+s.price,0)+e.productItem.price)*e.quantity,o=e=>{let s=e.items.map(e=>({id:e.id,quantity:e.quantity,name:e.productItem.product.name,imageUrl:e.productItem.product.imageUrl,disabled:!1,price:n(e),pizzaSize:e.productItem.size,pizzaType:e.productItem.pizzaType,ingredients:e.ingredients.map(e=>({name:e.name,price:e.price}))}));return console.log("Processed items123:",s),{items:s,totalAmount:e.totalAmount}};t(71280)},85653:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(61929),r=t(35770);function i(...e){return(0,r.m6)((0,a.W)(e)).trim()}},4054:(e,s,t)=>{"use strict";t.d(s,{V:()=>z});var a,r={};t.r(r),t.d(r,{search:()=>c});var i={};t.r(i),t.d(i,{getAll:()=>x});var n={};t.r(n),t.d(n,{addCartItem:()=>h,getCart:()=>m,removeCartItem:()=>u,updateItemQuantity:()=>p});var o={};t.r(o),t.d(o,{getMe:()=>g});var l={};t.r(l),t.d(l,{getAll:()=>f});let d=t(10863).Z.create({baseURL:"/api"});!function(e){e.SEARCH_PRODUCTS="products/search",e.INGREDIENTS="ingredients"}(a||(a={}));let c=async e=>(await d.get(a.SEARCH_PRODUCTS,{params:{query:e}})).data,x=async()=>(await d.get(a.INGREDIENTS)).data,m=async()=>(await d.get("/cart")).data,p=async(e,s)=>(await d.patch("/cart/"+e,{quantity:s})).data,u=async e=>(await d.delete("/cart/"+e)).data,h=async e=>(await d.post("/cart",e)).data,g=async()=>{let{data:e}=await d.get("/auth/me");return e},f=async()=>{let{data:e}=await d.get("/stories");return e},z={products:r,ingredients:i,cart:n,auth:o,stories:l}},66519:(e,s,t)=>{"use strict";t.d(s,{v:()=>a});let a=(0,t(69133).Ue)()(e=>({activeId:1,setActiveId:s=>e({activeId:s})}))},26763:(e,s,t)=>{"use strict";t.d(s,{x:()=>n});var a=t(69133),r=t(4054),i=t(9481);let n=(0,a.Ue)((e,s)=>({items:[],error:!1,loading:!0,totalAmount:0,fetchCartItems:async()=>{try{e({loading:!0,error:!1});let s=await r.V.cart.getCart();e((0,i.iS)(s))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}},updateItemQuantity:async(s,t)=>{try{e({loading:!0,error:!1});let a=await r.V.cart.updateItemQuantity(s,t);e((0,i.iS)(a))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}},removeCartItem:async s=>{try{e(e=>({loading:!0,error:!1,items:e.items.map(e=>e.id===s?{...e,disabled:!0}:e)}));let t=await r.V.cart.removeCartItem(s);e((0,i.iS)(t))}catch(s){console.error(s),e({error:!0})}finally{e(e=>({loading:!1,items:e.items.map(e=>({...e,disabled:!1}))}))}},addCartItem:async s=>{try{e({loading:!0,error:!1});let t=await r.V.cart.addCartItem(s);e((0,i.iS)(t))}catch(s){console.error(s),e({error:!0})}finally{e({loading:!1})}}}));t(66519)},17292:(e,s,t)=>{"use strict";t.r(s),t.d(s,{createOrder:()=>Z,registerUser:()=>k,updateUserInfo:()=>U});var a=t(28713);t(9640);var r=t(53524);let i=globalThis.prismaGlobal??new r.PrismaClient;var n=t(10230);(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\header.tsx#Header`);var o=t(90794),l=t(43628);(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\categories.tsx#Categories`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\filters.tsx#Filters`);var d=t(73538),c=t(39851),x=t(37330),m=t(7652);function p(...e){return(0,m.m6)((0,x.W)(e)).trim()}var u=t(32441);let h=(0,c.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});l.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,children:r,disabled:i,loading:n,...l},c)=>{let x=a?d.g7:"button";return o.jsx(x,{disabled:i||n,className:p(h({variant:s,size:t,className:e})),ref:c,...l,children:n?o.jsx(u.Z,{className:"w-5 h-5 animate-spin"}):r})}).displayName="Button",(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\checkbox.tsx#Checkbox`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#Dialog`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogPortal`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogOverlay`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogTrigger`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogClose`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogContent`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogHeader`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogFooter`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogTitle`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogDescription`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#Drawer`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerPortal`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerOverlay`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerTrigger`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerClose`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerContent`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerHeader`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerFooter`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerTitle`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerDescription`),l.forwardRef(({className:e,type:s,...t},a)=>o.jsx("input",{type:s,className:p("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t})).displayName="Input",(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#Popover`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverTrigger`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverContent`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverAnchor`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#Select`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectGroup`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectValue`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectTrigger`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectContent`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectLabel`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectItem`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectSeparator`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectScrollUpButton`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectScrollDownButton`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\slider.tsx#Slider`),l.forwardRef(({className:e,...s},t)=>o.jsx("textarea",{className:p("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s})).displayName="Textarea",(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\range-slider.tsx#RangeSlider`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkbox-filters-group.tsx#CheckboxFilterGroup`),t(61438),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\products-group-list.tsx#ProductsGroupList`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\searchInput.tsx#SearchInput`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\group-variants.tsx#GroupVariants`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\modals\choose-product-modal.tsx#ChooseProductModal`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\modals\auth-modal\auth-modal.tsx#AuthModal`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\cart-button.tsx#CartButton`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\cart-drawer.tsx#CartDrawer`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\product-form.tsx#ProductForm`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkout-item.tsx#CheckoutItem`);let g=({orderId:e,totalAmount:s,paymentUrl:t})=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("h1",{children:["Заказ #",e]}),(0,o.jsxs)("p",{children:["Оплатите заказ на сумму ",s," р. Перейдите "," ",o.jsx("a",{href:t,children:"по этой ссылке"})," для оплаты заказа"]})]});Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(([e,s])=>({name:s,value:e})),Object.entries({1:"традиционное",2:"тонкое"}).map(([e,s])=>({name:s,value:e}));var f=t(49421);let z=async(e,s,t)=>{let a=new f.R(process.env.RESEND_API_KEY),{data:r,error:i}=await a.emails.send({from:"onboarding@resend.dev",to:e,subject:s,text:"",react:t});if(i)throw i;return r};var w=t(92398);async function b(e){let{data:s}=await w.Z.post("https://api.yookassa.ru/v3/payments",{amount:{value:e.amount,currency:"RUB"},caapture:!0,description:e.description,metadata:{order_id:e.orderId},confirmation:{type:"redirect",return_url:process.env.YOOKASSA_CALLBACK_URL}},{auth:{username:process.env.YOOKASSA_STORE_ID,password:process.env.YOOKASSA_API_KEY},headers:{"Content-Type":"application/json","Idempotence-Key":Math.random().toString(36).substring(7)}});return s}(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkout\checkout-address-form.tsx#CheckoutAddressForm`);var y=t(79176);y.z.object({firstName:y.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),lastName:y.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:y.z.string().email({message:"Введите корректную почту"}),phone:y.z.string().min(10,{message:"Введите корректный номер телефона"}),address:y.z.string().min(5,{message:"Введите корректный адрес"}),comment:y.z.string().optional()}),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\providers.tsx#Providers`),t(85770),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\profile-form.tsx#ProfileForm`),(0,n.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\stoires.tsx#Stories`);let v=({code:e})=>(0,o.jsxs)("div",{children:[(0,o.jsxs)("p",{children:["Код подтверждения: ",o.jsx("h2",{children:e})]}),o.jsx("p",{children:o.jsx("a",{href:`http://localhost:3000/api/auth/verify?code=${e}`,children:"Подтвердить регистрацию"})})]});var j=t(42043),N=t(70072),T=t(14630),S=t(75394),C=t(67096);let D={providers:[(0,S.Z)({clientId:process.env.GOOGLE_CLIENT_ID||"",clientSecret:process.env.GOOGLE_CLIENT_SECRET||""}),(0,N.Z)({clientId:process.env.GITHUB_ID||"",clientSecret:process.env.GITHUB_SECRET||"",profile:e=>({id:e.id,name:e.name||e.login,email:e.email,image:e.avatar_url,role:"USER"})}),(0,T.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(console.log("lol"),!e)return null;let s={email:e.email},t=await i.user.findFirst({where:s});return t&&await (0,C.compare)(e.password,t.password)&&t.verified?{id:t.id,email:t.email,name:t.fullName,role:t.role}:null}})],secret:process.env.NEXTAUTH_SECRET,session:{strategy:"jwt"},callbacks:{async signIn({user:e,account:s}){try{if(s?.provider==="credentials")return!0;if(!e.email)return!1;let t=await i.user.findFirst({where:{OR:[{provider:s?.provider,providerId:s?.providerAccountId},{email:e.email}]}});if(t)return await i.user.update({where:{id:t.id},data:{provider:s?.provider,providerId:s?.providerAccountId}}),!0;return await i.user.create({data:{email:e.email,fullName:e.name||"User #"+e.id,password:(0,C.hashSync)(e.id.toString(),10),verified:new Date,provider:s?.provider,providerId:s?.providerAccountId}}),!0}catch(e){return console.error("Error [SIGNIN]",e),!1}},async jwt({token:e}){if(!e.email)return e;let s=await i.user.findFirst({where:{email:e.email}});return s&&(e.id=String(s.id),e.email=s.email,e.fullName=s.fullName,e.role=s.role),e},session:({session:e,token:s})=>(e?.user&&(e.user.id=s.id,e.user.role=s.role),e)}},P=async()=>{let e=await (0,j.getServerSession)(D);return e?.user??null};var E=t(53020);async function Z(e){try{let s=(0,E.cookies)(),t=s.get("cartToken")?.value;if(!t)throw Error("Cart token not found");let a=await i.cart.findFirst({include:{user:!0,items:{include:{ingredients:!0,productItem:{include:{product:!0}}}}},where:{token:t}});if(!a)throw Error("Cart not found");if(a?.totalAmount===0)throw Error("Cart is empty");let n=await i.order.create({data:{token:t,fullName:e.firstName+" "+e.lastName,email:e.email,phone:e.phone,address:e.address,comment:e.comment,totalAmount:a.totalAmount,status:r.OrderStatus.PENDING,items:JSON.stringify(a.items)}});await i.cart.update({where:{id:a.id},data:{totalAmount:0}}),await i.cartItem.deleteMany({where:{cartId:a.id}});let o=await b({amount:n.totalAmount,orderId:n.id,description:"Оплата заказа #"+n.id});if(!o)throw Error("Payment data not found");await i.order.update({where:{id:n.id},data:{paymentId:o.id}});let l=o.confirmation.confirmation_url;return await z(e.email,"Next Pizza / Оплатите заказ #"+n.id,g({orderId:n.id,totalAmount:n.totalAmount,paymentUrl:l})),l}catch(e){console.log("[CreateOrder] Server error",e)}}async function U(e){try{let s=await P();if(!s)throw Error("Пользователь не найден");let t=await i.user.findFirst({where:{id:Number(s.id)}});await i.user.update({where:{id:Number(s.id)},data:{fullName:e.fullName,email:e.email,password:e.password?(0,C.hashSync)(e.password,10):t?.password}})}catch(e){throw console.log("Error [UPDATE_USER]",e),e}}async function k(e){try{let s=await i.user.findFirst({where:{email:e.email}});if(s){if(!s.verified)throw Error("Почта не подтверждена");throw Error("Пользователь уже существует")}let t=await i.user.create({data:{fullName:e.fullName,email:e.email,password:(0,C.hashSync)(e.password,10)}}),a=Math.floor(1e5+9e5*Math.random()).toString();await i.verificationCode.create({data:{code:a,userId:t.id}}),await z(t.email,"Next Pizza / \uD83D\uDCDD Подтверждение регистрации",v({code:a}))}catch(e){throw console.log("Error [CREATE_USER]",e),e}}(0,t(83557).h)([Z,U,k]),(0,a.j)("4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49",Z),(0,a.j)("9255dd54e80608048ad1b05b9221da43799ff17b",U),(0,a.j)("63a1f7ff15632f06077a8eecd788805737726c50",k)},54403:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(72051),r=t(31674),i=t.n(r);t(67272);var n=t(36315);function o({children:e}){return(0,a.jsxs)("html",{lang:"en",children:[a.jsx("head",{children:a.jsx("link",{"data-rh":"true",rel:"icon",href:"/logo.png"})}),a.jsx("body",{className:i().className,children:a.jsx(n.Cl,{children:e})})]})}},36315:(e,s,t)=>{"use strict";t.d(s,{Cl:()=>a.Cl,r8:()=>a.r8});var a=t(41072);t(71244)},3060:(e,s,t)=>{"use strict";t.d(s,{d:()=>r});var a=t(72051);let r=({orderId:e,items:s})=>(0,a.jsxs)("div",{children:[a.jsx("h1",{children:"Спасибо за покупку!"}),(0,a.jsxs)("p",{children:["Ваш заказ #$",e," оплачен. Список товаров"]}),a.jsx("hr",{}),a.jsx("ul",{children:s.map(e=>(0,a.jsxs)("li",{children:[e.productItem.product.name," | ",e.productItem.price," р. * ",e.quantity," шт. = "," ",e.productItem.price*e.quantity," р."]},e.id))})]})},41072:(e,s,t)=>{"use strict";t.d(s,{z9:()=>b,W2:()=>d,x$:()=>g,h4:()=>r,U8:()=>S,HG:()=>y,d7:()=>w,r8:()=>N,Cl:()=>j,fQ:()=>C,Dx:()=>x,Du:()=>h});var a=t(45347);let r=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\header.tsx#Header`);var i=t(72051),n=t(6553),o=t(26269),l=t.n(o);let d=({className:e,children:s})=>i.jsx("div",{className:(0,n.cn)("mx-auto max-w-[1280px]",e),children:s});var c=t(36272);let x=({text:e,size:s="sm",className:t})=>l().createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[s],{className:(0,c.Z)({xs:"text-[16px] ys-text",sm:"text-[22px] ys-text",md:"text-[26px] ys-text",lg:"text-[32px] ys-display",xl:"text-[40px] ys-display","2xl":"text-[48px] ys-display"}[s],t)},e),m=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\categories.tsx#Categories`);var p=t(25771);let u=({className:e})=>(0,i.jsxs)("div",{className:(0,n.cn)("inline-flex items-center gap-1 bg-gray-50 px-5 h-[52px] rounded-2xl cursor-pointer",e),children:[i.jsx(p.Z,{size:16}),i.jsx("b",{children:"Сортировка"}),i.jsx("b",{className:"text-primary",children:"популярное"})]}),h=({categories:e,className:s})=>i.jsx("div",{className:(0,n.cn)("sticky top-0 bg-white py-5 shadow-lg shadow-black/5 z-10",s),children:(0,i.jsxs)(d,{className:"flex items-center justify-between",children:[i.jsx(m,{items:e}),i.jsx(u,{})]})}),g=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\filters.tsx#Filters`);t(71244),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\range-slider.tsx#RangeSlider`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkbox-filters-group.tsx#CheckboxFilterGroup`);var f=t(92349),z=t(55256);let w=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\products-group-list.tsx#ProductsGroupList`);(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\searchInput.tsx#SearchInput`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\group-variants.tsx#GroupVariants`);let b=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\modals\choose-product-modal.tsx#ChooseProductModal`);(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\modals\auth-modal\auth-modal.tsx#AuthModal`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\cart-button.tsx#CartButton`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\cart-drawer.tsx#CartDrawer`);let y=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\product-form.tsx#ProductForm`);(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkout-item.tsx#CheckoutItem`),t(3060),t(89103),t(54721),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\checkout\checkout-address-form.tsx#CheckoutAddressForm`);var v=t(11045);v.z.object({firstName:v.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),lastName:v.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:v.z.string().email({message:"Введите корректную почту"}),phone:v.z.string().min(10,{message:"Введите корректный номер телефона"}),address:v.z.string().min(5,{message:"Введите корректный адрес"}),comment:v.z.string().optional()});let j=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\providers.tsx#Providers`);t(96634);let N=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\profile-form.tsx#ProfileForm`);var T=t(28765);let S=({className:e,title:s,text:t,imageUrl:a})=>(0,i.jsxs)("div",{className:(0,n.cn)(e,"flex items-center justify-between w-[840px] gap-12"),children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsxs)("div",{className:"w-[445px]",children:[i.jsx(x,{size:"lg",text:s,className:"font-extrabold"}),i.jsx("p",{className:"text-gray-400 text-lg",children:t})]}),(0,i.jsxs)("div",{className:"flex gap-5 mt-11",children:[i.jsx(f.default,{href:"/",children:(0,i.jsxs)(z.z,{variant:"outline",className:"gap-2",children:[i.jsx(T.Z,{}),"На главную"]})}),i.jsx("a",{href:"",children:i.jsx(z.z,{variant:"outline",className:"text-gray-500 border-gray-400 hover:bg-gray-50",children:"Обновить"})})]})]}),i.jsx("img",{src:a,alt:s,width:300})]}),C=(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\shared\stoires.tsx#Stories`)},55256:(e,s,t)=>{"use strict";t.d(s,{z:()=>c});var a=t(72051),r=t(26269),i=t(96734),n=t(45994),o=t(6553),l=t(63596);let d=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:s,size:t,asChild:r=!1,children:n,disabled:c,loading:x,...m},p)=>{let u=r?i.g7:"button";return a.jsx(u,{disabled:c||x,className:(0,o.cn)(d({variant:s,size:t,className:e})),ref:p,...m,children:x?a.jsx(l.Z,{className:"w-5 h-5 animate-spin"}):n})});c.displayName="Button"},71244:(e,s,t)=>{"use strict";t(55256);var a=t(45347);(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\checkbox.tsx#Checkbox`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#Dialog`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogPortal`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogOverlay`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogTrigger`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogClose`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogContent`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogHeader`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogFooter`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogTitle`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\dialog.tsx#DialogDescription`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#Drawer`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerPortal`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerOverlay`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerTrigger`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerClose`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerContent`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerHeader`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerFooter`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerTitle`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\drawer.tsx#DrawerDescription`);var r=t(72051),i=t(26269),n=t(6553);i.forwardRef(({className:e,type:s,...t},a)=>r.jsx("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t})).displayName="Input",(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#Popover`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverTrigger`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverContent`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\popover.tsx#PopoverAnchor`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#Select`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectGroup`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectValue`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectTrigger`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectContent`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectLabel`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectItem`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectSeparator`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectScrollUpButton`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\select.tsx#SelectScrollDownButton`),(0,a.createProxy)(String.raw`C:\Users\TEST\Downloads\next-pizza-20241005T111532Z-001\next-pizza\shared\components\ui\slider.tsx#Slider`),t(89103)},89103:(e,s,t)=>{"use strict";var a=t(72051),r=t(26269),i=t(6553);r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s})).displayName="Textarea"},54721:(e,s,t)=>{"use strict";t.d(s,{Cz:()=>r}),Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(([e,s])=>({name:s,value:e})),Object.entries({1:"традиционное",2:"тонкое"}).map(([e,s])=>({name:s,value:e}));var a=t(29384);let r=async(e,s,t)=>{let r=new a.R(process.env.RESEND_API_KEY),{data:i,error:n}=await r.emails.send({from:"onboarding@resend.dev",to:e,subject:s,text:"",react:t});if(n)throw n;return i}},6553:(e,s,t)=>{"use strict";t.d(s,{cn:()=>i});var a=t(36272),r=t(51472);function i(...e){return(0,r.m6)((0,a.W)(e)).trim()}},67272:()=>{}};