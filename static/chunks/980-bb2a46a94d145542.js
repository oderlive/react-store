(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[980],{24654:function(){},19562:function(e,t,s){"use strict";s.d(t,{LV:function(){return n},a$:function(){return r},gS:function(){return i}}),s(83079);var a=s(12119),r=(0,a.$)("63a1f7ff15632f06077a8eecd788805737726c50"),n=(0,a.$)("4bc7efcaf1fc05ae4ebda4733cde1a778e4f4f49"),i=(0,a.$)("9255dd54e80608048ad1b05b9221da43799ff17b")},70688:function(e,t,s){"use strict";s.d(t,{Dx:function(){return a.Dx},W2:function(){return a.W2},hl:function(){return a.hl},lJ:function(){return a.lJ},rE:function(){return a.rE},xU:function(){return a.xU},zx:function(){return r.zx}});var a=s(94441),r=s(49803)},29729:function(e,t,s){"use strict";s.d(t,{CartButton:function(){return d}});var a=s(57437),r=s(39338);s(2265);var n=s(49803),i=s(16275),l=s(76858),c=s(50059),o=s(62362);let d=e=>{let{className:t}=e,[s,d,u]=(0,o.x)(e=>[e.totalAmount,e.items,e.loading]);return(0,a.jsx)(c.CartDrawer,{children:(0,a.jsxs)(n.zx,{disabled:u,className:(0,r.cn)("group relative",{"w-[105px]":u},t),children:[(0,a.jsxs)("b",{children:[s," р"]}),(0,a.jsx)("span",{className:"h-full w-[1px] bg-white/30 mx-3"}),(0,a.jsxs)("div",{className:"flex items-center gap-1 transition duration-300 group-hover:opacity-0",children:[(0,a.jsx)(i.Z,{size:16,className:"relative",strokeWidth:2}),(0,a.jsx)("b",{children:d.length})]}),(0,a.jsx)(l.Z,{size:20,className:"absolute right-5 transition duration-300 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"})]})})}},77097:function(e,t,s){"use strict";s.d(t,{o:function(){return c}});var a=s(57437),r=s(39338);s(2265);var n=s(98375),i=s(39412),l=s(18930);let c=e=>{let{className:t,imageUrl:s,name:c,price:o,quantity:d,details:u,onClickCountButton:m,onClickRemove:x,disabled:f}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex bg-white p-5 gap-6",{"opacity-50 pointer-events-none":f},t),children:[(0,a.jsx)(n.Ee,{src:s}),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(n.kI,{details:u,name:c}),(0,a.jsx)("hr",{className:"my-3"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(i.r,{onClick:m,value:d}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n.tA,{value:o}),(0,a.jsx)(l.Z,{onClick:x,className:"text-gray-400 cursor-pointer hover:text-gray-600",size:16})]})]})]})})]})}},50059:function(e,t,s){"use strict";s.d(t,{CartDrawer:function(){return I}});var a=s(57437),r=s(2265),n=s(27648),i=s(49803),l=s(32660),c=s(76858),o=s(49027),d=s(20653),u=s(77712),m=s(39338);let x=o.fC,f=o.xz,p=o.x8,h=o.h_,g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.aV,{className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:t})});g.displayName=o.aV.displayName;let j=(0,u.j)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b=r.forwardRef((e,t)=>{let{side:s="right",className:r,children:n,...i}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(g,{}),(0,a.jsxs)(o.VY,{ref:t,className:(0,m.cn)(j({side:s}),r),...i,children:[(0,a.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(d.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]}),n]})]})});b.displayName=o.VY.displayName;let v=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,m.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};v.displayName="SheetHeader";let y=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,m.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};y.displayName="SheetFooter";let N=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.Dx,{ref:t,className:(0,m.cn)("text-lg font-semibold text-foreground",s),...r})});N.displayName=o.Dx.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(o.dk,{ref:t,className:(0,m.cn)("text-sm text-muted-foreground",s),...r})}).displayName=o.dk.displayName;var w=s(77097),z=s(19534),C=s(33145),k=s(63003),S=s(93227);let I=e=>{let{children:t}=e,{totalAmount:s,updateItemQuantity:o,items:d,removeCartItem:u}=(0,S.jD)(),[h,g]=(0,r.useState)(!1),j=(e,t,s)=>{o(e,"plus"===s?t+1:t-1)};return(0,a.jsxs)(x,{children:[(0,a.jsx)(f,{asChild:!0,children:t}),(0,a.jsx)(b,{className:"flex flex-col justify-between pb-0 bg-[#F4F1EE]",children:(0,a.jsxs)("div",{className:(0,m.cn)("flex flex-col h-full",!s&&"justify-center"),children:[s>0&&(0,a.jsx)(v,{children:(0,a.jsxs)(N,{children:["В корзине ",(0,a.jsxs)("span",{className:"font-bold",children:[d.length," товара"]})]})}),!s&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center w-70 mx-auto",children:[(0,a.jsx)(C.default,{src:"/assets/images/empty-box.png",alt:"Empty cart",width:120,height:120}),(0,a.jsx)(k.D,{size:"sm",text:"Корзина пустая",className:"text-center font-bold my-2"}),(0,a.jsx)("p",{className:"text-center text-neutral-500 mb-5",children:"Добавьте хотя бы одну пиццу, чтобы совершит заказ"}),(0,a.jsx)(p,{children:(0,a.jsxs)(i.zx,{className:"w-56 h-12 text-base",size:"lg",children:[(0,a.jsx)(l.Z,{className:"w-5 mr-2"}),"Вернуться назад"]})})]}),s>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"-mx-6 mt-5 overflow-auto flex-1",children:(0,a.jsx)("div",{className:"mb-2",children:d.map(e=>(0,a.jsx)(w.o,{id:e.id,imageUrl:e.imageUrl,details:(0,z.qC)(e.ingredients,e.pizzaType,e.pizzaSize),disabled:e.disabled,name:e.name,price:e.price,quantity:e.quantity,onClickCountButton:t=>j(e.id,e.quantity,t),onClickRemove:()=>u(e.id)},e.id))})}),(0,a.jsx)(y,{className:"mx-6 bg-white p-8",children:(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsxs)("div",{className:"flex mb-4",children:[(0,a.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:["Итого",(0,a.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,a.jsxs)("span",{className:"font-bold text-lg",children:[s," ₽"]})]}),(0,a.jsx)(n.default,{href:"/checkout",children:(0,a.jsxs)(i.zx,{onClick:()=>g(!0),loading:h,type:"submit",className:"w-full h-12 text-base",children:["Оформить заказ",(0,a.jsx)(c.Z,{className:"w-5 ml-2"})]})})]})})]})]})})]})}},98375:function(e,t,s){"use strict";s.d(t,{r:function(){return c},Ee:function(){return i},kI:function(){return r},tA:function(){return l}});var a=s(57437);let r=e=>{let{name:t,details:s}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h2",{className:"text-lg font-bold flex-1 leading-6",children:t})}),s&&(0,a.jsx)("p",{className:"text-xs text-gray-400",children:s})]})};var n=s(39338);let i=e=>{let{src:t,className:s}=e;return(0,a.jsx)("img",{className:(0,n.cn)("w-[60px] h-[60px]",s),src:t})},l=e=>{let{value:t,className:s}=e;return(0,a.jsxs)("h2",{className:(0,n.cn)("font-bold",s),children:[t," ₽"]})},c=s(39412).r},47469:function(e,t,s){"use strict";s.r(t),s.d(t,{Categories:function(){return i}});var a=s(57437),r=s(39338);s(2265);var n=s(8606);let i=e=>{let{items:t,className:s}=e,i=(0,n.v)(e=>e.activeId);return(0,a.jsx)("div",{className:(0,r.cn)("inline-flex gap-1 bg-gray-50 p-1 rounded-2xl",s),children:t.map((e,t)=>{let{name:s,id:n}=e;return(0,a.jsx)("a",{className:(0,r.cn)("flex items-center font-bold h-11 rounded-2xl px-5",i===n&&"bg-white shadow-md shadow-gray-200 text-primary"),href:"/#".concat(s),children:(0,a.jsx)("button",{children:s})},t)})})}},75789:function(e,t,s){"use strict";s.d(t,{CheckboxFilterGroup:function(){return c}});var a=s(57437),r=s(2265),n=s(88321),i=s(87955),l=s(49803);let c=e=>{let{title:t,items:s,defaultItems:c,limit:o=5,searchInputPlaceholder:d="Поиск...",className:u,onClickCheckbox:m,defaultValue:x,loading:f,selected:p,name:h}=e,[g,j]=(0,r.useState)(!1),[b,v]=(0,r.useState)(""),y=g?s.filter(e=>e.text.toLowerCase().includes(b.toLocaleLowerCase())):(c||s).slice(0,o);return f?(0,a.jsxs)("div",{className:u,children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:t}),...Array(o).fill(0).map((e,t)=>(0,a.jsx)(l.Od,{className:"mb-4 h-6 rounded-[8px]"},t))]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:t}),g&&(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsx)(n.I,{onChange:e=>{v(e.target.value)},placeholder:d,className:"bg-gray-50 border-none"})}),(0,a.jsx)("div",{className:"flex flex-col gap-4 max-h-96 pr-2 overflow-auto scrollbar",children:y.map((e,t)=>(0,a.jsx)(i.T,{text:e.text,value:e.value,endAdornment:e.endAdornment,checked:null==p?void 0:p.has(e.value),onCheckedChange:()=>null==m?void 0:m(e.value),name:h},t))}),s.length>o&&(0,a.jsx)("div",{className:g?"border-t border-t-neutral-100 mt-4":"",children:(0,a.jsx)("button",{onClick:()=>j(!g),className:"text-primary mt-3",children:g?"Скрыть":"+ Показать все"})})]})}},2094:function(e,t,s){"use strict";s.r(t),s.d(t,{CheckoutItem:function(){return l}});var a=s(57437),r=s(39338),n=s(32489);s(2265);var i=s(98375);let l=e=>{let{name:t,price:s,imageUrl:l,quantity:c,details:o,className:d,disabled:u,onClickCountButton:m,onClickRemove:x}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-between",{"opacity-50 pointer-events-none":u},d),children:[(0,a.jsxs)("div",{className:"flex items-center gap-5 flex-1",children:[(0,a.jsx)(i.Ee,{src:l}),(0,a.jsx)(i.kI,{name:t,details:o})]}),(0,a.jsx)(i.tA,{value:s}),(0,a.jsxs)("div",{className:"flex items-center gap-5 ml-20",children:[(0,a.jsx)(i.r,{onClick:m,value:c}),(0,a.jsx)("button",{type:"button",onClick:x,children:(0,a.jsx)(n.Z,{className:"text-gray-400 cursor-pointer hover:text-gray-600",size:20})})]})]})}},74188:function(e,t,s){"use strict";s.d(t,{CheckoutAddressForm:function(){return d}});var a=s(57437),r=s(44149),n=s(9111),i=s(68938);s(72840);let l=e=>{let{onChange:t}=e;return(0,a.jsx)(i.pZ,{token:"21947c4e741b26e39365459d6cf45f473be83686",onChange:e=>null==t?void 0:t(null==e?void 0:e.value)})};var c=s(29501),o=s(79652);let d=e=>{let{className:t}=e,{control:s}=(0,c.Gc)();return(0,a.jsx)(r.n,{title:"3. Адрес доставки",className:t,children:(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)(c.Qr,{control:s,name:"address",render:e=>{var t;let{field:s,fieldState:r}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l,{onChange:s.onChange}),(null===(t=r.error)||void 0===t?void 0:t.message)&&(0,a.jsx)(o.y,{text:r.error.message})]})}}),(0,a.jsx)(n.B,{name:"comment",className:"text-base",rows:5,placeholder:"Комментарий к заказу"})]})})}},34500:function(e,t,s){"use strict";s.d(t,{K:function(){return l}});var a=s(57437),r=s(39338);s(2265);var n=s(63003),i=s(49803);let l=e=>{let{imageUrl:t,name:s,onSubmit:l,className:c,price:o,loading:d}=e;return(0,a.jsxs)("div",{className:(0,r.cn)(c,"flex flex-1"),children:[(0,a.jsx)("div",{className:"flex items-center justify-content flex-1 relative w-full",children:(0,a.jsx)("img",{src:t,alt:"Logo",className:"relative left-2 top-2 transition-all z-10 duration-300 w-[350px] h-[350px]"})}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,a.jsx)(n.D,{text:s,size:"md",className:"font-extrabold mb-1"}),(0,a.jsxs)(i.zx,{onClick:()=>null==l?void 0:l(),className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",o," ₽"]})]})]})}},84386:function(e,t,s){"use strict";s.d(t,{C:function(){return i}});var a=s(57437),r=s(39338),n=s(32489);s(2265);let i=e=>{let{onClick:t,className:s}=e;return(0,a.jsx)("button",{onClick:t,className:(0,r.cn)("absolute right-4 top-1/2 -translate-y-1/2 opacity-30 hover:opacity-100 cursor-pointer",s),children:(0,a.jsx)(n.Z,{className:"h-5 w-5"})})}},47098:function(e,t,s){"use strict";s.d(t,{W:function(){return n}});var a=s(57437),r=s(39338);s(2265);let n=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("mx-auto max-w-[1280px]",t),children:s})}},39412:function(e,t,s){"use strict";s.d(t,{r:function(){return o}});var a=s(57437);s(2265);var r=s(99397),n=s(21047),i=s(39338),l=s(49803);let c=e=>{let{size:t="sm",disabled:s,type:c,onClick:o}=e;return(0,a.jsx)(l.zx,{variant:"outline",disabled:s,onClick:o,type:"button",className:(0,i.cn)("p-0 hover:bg-primary hover:text-white disabled:bg-white disabled:border-gray-400 disabled:text-gray-400","sm"===t?"w-[30px] h-[30px] rounded-[10px]":"w-[38px] h-[38px] rounded-md"),children:"plus"===c?(0,a.jsx)(r.Z,{className:"sm"===t?"h-4":"h-5"}):(0,a.jsx)(n.Z,{className:"sm"===t?"h-4":"h-5"})})},o=e=>{let{className:t,onClick:s,value:r=1,size:n="sm"}=e;return(0,a.jsxs)("div",{className:(0,i.cn)("inline-flex items-center justify-between gap-3",t),children:[(0,a.jsx)(c,{onClick:()=>null==s?void 0:s("minus"),disabled:1===r,size:n,type:"minus"}),(0,a.jsx)("b",{className:"sm"===n?"text-sm":"text-md",children:r}),(0,a.jsx)(c,{onClick:()=>null==s?void 0:s("plus"),size:n,type:"plus"})]})}},79652:function(e,t,s){"use strict";s.d(t,{y:function(){return n}});var a=s(57437),r=s(39338);s(2265);let n=e=>{let{text:t,className:s}=e;return(0,a.jsx)("p",{className:(0,r.cn)("text-red-500 text-sm mt-2",s),children:t})}},87955:function(e,t,s){"use strict";s.d(t,{T:function(){return n}});var a=s(57437);s(2265);var r=s(49803);let n=e=>{let{text:t,value:s,endAdornment:n,onCheckedChange:i,checked:l,name:c}=e;return(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.XZ,{onCheckedChange:i,checked:l,value:s,className:"rounded-[8px] w-6 h-6",id:"checkbox-".concat(String(c),"-").concat(String(s))}),(0,a.jsx)("label",{htmlFor:"checkbox-".concat(String(c),"-").concat(String(s)),className:"leading-none cursor-pointer flex-1",children:t}),n]})}},33958:function(e,t,s){"use strict";s.d(t,{Filters:function(){return o}});var a=s(57437);s(2265);var r=s(63003),n=s(88321),i=s(21830),l=s(75789),c=s(93227);let o=e=>{let{className:t}=e,{ingredients:s,loading:o}=(0,c.eO)(),d=(0,c.mN)();(0,c.n9)(d);let u=s.map(e=>({value:String(e.id),text:e.name}));return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.D,{text:"Фильтрация",size:"sm",className:"mb-5 font-bold"}),(0,a.jsx)(l.CheckboxFilterGroup,{title:"Тип теста",name:"pizzaTypes",className:"mb-5",onClickCheckbox:d.setPizzaTypes,selected:d.pizzaTypes,items:[{text:"Тонкое",value:"1"},{text:"Традиционное",value:"2"}]}),(0,a.jsx)("div",{className:"flex flex-col gap-4",children:(0,a.jsx)(l.CheckboxFilterGroup,{title:"Размеры",name:"sizes",className:"mb-5",onClickCheckbox:d.setSizes,selected:d.sizes,items:[{text:"20 см",value:"20"},{text:"30 см",value:"30"},{text:"40 см",value:"40"}]})}),(0,a.jsxs)("div",{className:"mt-5 border-y border-y-neutral-100 py-6 pb-7",children:[(0,a.jsx)("p",{className:"font-bold mb-3",children:" Цена от и до"}),(0,a.jsxs)("div",{className:"flex gap-3 mb-5",children:[(0,a.jsx)(n.I,{type:"number",placeholder:"0",min:0,max:1e3,value:String(d.prices.priceFrom||"0"),onChange:e=>d.setPrices("priceFrom",Number(e.target.value))}),(0,a.jsx)(n.I,{type:"number",placeholder:"1000",min:100,max:1e3,value:String(d.prices.priceTo||"1000"),onChange:e=>d.setPrices("priceTo",Number(e.target.value))})]}),(0,a.jsx)(i.RangeSlider,{min:0,max:1e3,step:10,value:[d.prices.priceFrom||0,d.prices.priceTo||1e3],onValueChange:e=>{d.setPrices("priceFrom",e[0]),d.setPrices("priceTo",e[1])}})]}),(0,a.jsx)(l.CheckboxFilterGroup,{title:"Ингредиенты",name:"ingredients",className:"mt-5",limit:3,defaultItems:u.slice(0,6),items:u,loading:o,onClickCheckbox:d.setSelectedIngredients,selected:d.selectedIngredients})]})}},9111:function(e,t,s){"use strict";s.d(t,{y:function(){return o},B:function(){return u}});var a=s(57437),r=s(33319),n=s(49803),i=s(79652),l=s(84386),c=s(29501);let o=e=>{var t;let{className:s,name:o,label:d,required:u,...m}=e,{register:x,formState:{errors:f},watch:p,setValue:h}=(0,c.Gc)(),g=p(o),j=null===(t=f[o])||void 0===t?void 0:t.message;return(0,a.jsxs)("div",{className:s,children:[d&&(0,a.jsxs)("p",{className:"font-medium mb-2",children:[d," ",u&&(0,a.jsx)(r.H,{})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(n.II,{className:"h-12 text-md",...x(o),...m}),g&&(0,a.jsx)(l.C,{onClick:()=>{h(o,"",{shouldValidate:!0})}})]}),j&&(0,a.jsx)(i.y,{text:j,className:"mt-2"})]})};s(2265);var d=s(29308);let u=e=>{var t;let{className:s,name:r,label:n,required:i,...o}=e,{register:u,formState:{errors:m},watch:x,setValue:f}=(0,c.Gc)(),p=x(r),h=null===(t=m[r])||void 0===t?void 0:t.message;return(0,a.jsxs)("div",{className:s,children:[(0,a.jsxs)("p",{className:"font-medium mb-2",children:[n," ",i&&(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.g,{className:"h-12 text-md",...u(r),...o}),p&&(0,a.jsx)(l.C,{onClick:()=>{f(r,"")}})]}),h&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-2",children:h})]})}},69248:function(e,t,s){"use strict";s.d(t,{GroupVariants:function(){return n}});var a=s(57437),r=s(39338);s(2265);let n=e=>{let{items:t,onClick:s,className:n,value:i}=e;return(0,a.jsx)("div",{className:(0,r.cn)(n,"flex justify-between bg-[#F3F3F7] rounded-3xl p-1 select-none"),children:t.map(e=>(0,a.jsx)("button",{onClick:()=>null==s?void 0:s(e.value),className:(0,r.cn)("flex items-center justify-center cursor-pointer h-[30px] px-5 flex-1 rounded-3xl transition-all duration-400 text-sm",{"bg-white shadow":e.value===i,"text-gray-500 opacity-50 pointer-events-none":e.disabled}),children:e.name},e.name))})}},90982:function(e,t,s){"use strict";s.d(t,{Header:function(){return p}});var a=s(57437),r=s(39338),n=s(33145),i=s(27648),l=s(99376),c=s(2265),o=s(69064),d=s(29729),u=s(47098),m=s(46643),x=s(15144),f=s(94582);let p=e=>{let{className:t,hasSearch:s=!0,hasCart:p=!0}=e,h=(0,l.useRouter)(),[g,j]=(0,c.useState)(!1),b=(0,l.useSearchParams)();return(0,c.useEffect)(()=>{let e="";b.has("paid")&&(e="Заказ успешно оплачен! Информация отправлена на почту"),b.has("verified")&&(e="Почта успешно подтверждена"),e&&setTimeout(()=>{h.replace("/"),o.ZP.success(e,{duration:3e3})},1e3)},[]),(0,a.jsx)("header",{className:(0,r.cn)("border-b",t),children:(0,a.jsxs)(u.W,{className:"flex item-center justify-between py-8",children:[(0,a.jsx)(i.default,{href:"/",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(n.default,{src:"/logo.png",alt:"Logo",width:35,height:35}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl uppercase font-black",children:"Next Pizza"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 leading-3",children:"вкусней уже некуда"})]})]})}),s&&(0,a.jsx)("div",{className:"mx-10 flex-1",children:(0,a.jsx)(x.SearchInput,{})}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f.Q,{open:g,onClose:()=>j(!1)}),(0,a.jsx)(m.B,{onClickSignIn:()=>j(!0)}),p&&(0,a.jsx)(d.CartButton,{})]})})]})})}},94441:function(e,t,s){"use strict";s.d(t,{hl:function(){return N.CheckoutAddressForm},xU:function(){return v},lJ:function(){return y},rE:function(){return g},W2:function(){return a.W},HG:function(){return i.ProductForm},Dx:function(){return r.D}}),s(90982);var a=s(47098),r=s(63003);s(47469);var n=s(57437);s(2265),s(33958),s(87955),s(21830),s(75789),s(80661),s(24628),s(15144),s(75961),s(69248),s(94582),s(34500),s(86733),s(29729),s(50059),s(77097);var i=s(2418),l=s(44149),c=s(39338);let o=e=>{let{className:t,title:s,value:a}=e;return(0,n.jsxs)("div",{className:(0,c.cn)("flex my-4",t),children:[(0,n.jsxs)("span",{className:"flex flex-1 text-lg text-neutral-500",children:[s,(0,n.jsx)("div",{className:"flex-1 border-b border-dashed border-b-neutral-200 relative -top-1 mx-2"})]}),(0,n.jsx)("span",{className:"font-bold text-lg",children:a})]})};var d=s(2094);let u=e=>{let{className:t}=e;return(0,n.jsxs)("div",{className:(0,c.cn)("flex items-center justify-between",t),children:[(0,n.jsxs)("div",{className:"flex items-center gap-5",children:[(0,n.jsx)("div",{className:"w-[50px] h-[50px] bg-gray-200 rounded-full animate-pulse"}),(0,n.jsx)("h2",{className:"w-40 h-5 bg-gray-200 rounded animate-pulse"})]}),(0,n.jsx)("div",{className:"h-5 w-10 bg-gray-200 rounded animate-pulse"}),(0,n.jsx)("div",{className:"h-8 w-[133px] bg-gray-200 rounded animate-pulse"})]})};var m=s(44794),x=s(9089),f=s(40340),p=s(76858),h=s(49803);let g=e=>{let{totalAmount:t,className:s,loading:a}=e,r=15*t/100;return(0,n.jsxs)(l.n,{className:(0,c.cn)("p-6 sticky top-4",s),children:[(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)("span",{className:"flex-xl",children:"Итого:"}),a?(0,n.jsx)(h.Od,{className:"h-11 w-48"}):(0,n.jsxs)("span",{className:"h-11 text-[34px] font-extrabold",children:[t+250+r," р."]})]}),(0,n.jsx)(o,{title:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(m.Z,{size:18,className:"mr-2 text-gray-400"}),"Стоимость корзины:"]})}),value:a?(0,n.jsx)(h.Od,{className:"h-6 w-16 rounded-[6px]"}):"".concat(t," р.")}),(0,n.jsx)(o,{title:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(x.Z,{size:18,className:"mr-2 text-gray-400"}),"Налоги:"]})}),value:a?(0,n.jsx)(h.Od,{className:"h-6 w-16 rounded-[6px]"}):"".concat(r," р.")}),(0,n.jsx)(o,{title:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(f.Z,{size:18,className:"mr-2 text-gray-400"}),"Доставка:"]})}),value:a?(0,n.jsx)(h.Od,{className:"h-6 w-16 rounded-[6px]"}):"".concat(250," р.")}),(0,n.jsxs)(h.zx,{loading:a,type:"submit",className:"w-full h-14 rounded-2xl mt-6 text-base font-bold",children:["Перейти к оплате",(0,n.jsx)(p.Z,{className:"w-5 ml-2"})]})]})};s(33319),s(79652),s(84386);var j=s(9111),b=s(19534);let v=e=>{let{className:t,items:s,onClickCountButton:a,removeCartItem:r,loading:i}=e;return(0,n.jsx)(l.n,{title:"1. Корзина",className:t,children:(0,n.jsx)("div",{className:"flex flex-col gap-5",children:i?[void 0,void 0,void 0,void 0].map((e,t)=>(0,n.jsx)(u,{},t)):s.map(e=>(0,n.jsx)(d.CheckoutItem,{id:e.id,imageUrl:e.imageUrl,details:(0,b.qC)(e.ingredients,e.pizzaType,e.pizzaSize),name:e.name,price:e.price,quantity:e.quantity,disabled:e.disabled,onClickCountButton:t=>a(e.id,e.quantity,t),onClickRemove:()=>r(e.id)},e.id))})})},y=e=>{let{className:t}=e;return(0,n.jsx)(l.n,{title:"2. Персональные данные",className:t,children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-5",children:[(0,n.jsx)(j.y,{name:"firstName",className:"text-base",placeholder:"Имя"}),(0,n.jsx)(j.y,{name:"lastName",className:"text-base",placeholder:"Фамилия"}),(0,n.jsx)(j.y,{name:"email",className:"text-base",placeholder:"E-Mail"}),(0,n.jsx)(j.y,{name:"phone",className:"text-base",placeholder:"Телефон"})]})})};var N=s(74188);s(61032),s(94056),s(46643),s(87388),s(79592),s(27648),s(72064)},86733:function(e,t,s){"use strict";s.d(t,{d:function(){return i}});var a=s(57437),r=s(39338);s(2265);var n=s(92934);let i=e=>{let{className:t,active:s,price:i,name:l,imageUrl:c,onClick:o}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center flex-col p-1 rounded-md w-32 text-center relative cursor-pointer shadow-md bg-white",{"border border-primary":s},t),onClick:o,children:[s&&(0,a.jsx)(n.Z,{className:"absolute top-2 right-2 text-primary"}),(0,a.jsx)("img",{width:110,height:110,src:c}),(0,a.jsx)("span",{className:"text-xs mb-1",children:l}),(0,a.jsxs)("span",{className:"font-bold",children:[i," ₽"]})]})}},48731:function(e,t,s){"use strict";s.d(t,{AuthModal:function(){return j}});var a=s(57437),r=s(70688),n=s(65037),i=s(80605),l=s(2265),c=s(29501),o=s(76142),d=s(13590),u=s(63003),m=s(9111),x=s(49803),f=s(69064);let p=e=>{let{onClose:t}=e,s=(0,c.cI)({resolver:(0,d.F)(o.kj),defaultValues:{email:"",password:""}}),r=async e=>{try{let s=await (0,i.signIn)("credentials",{...e,redirect:!1});if(!(null==s?void 0:s.ok))throw Error();f.ZP.success("Вы успешно вошли в аккаунт",{icon:"✅"}),null==t||t()}catch(e){console.error("Error [LOGIN]",e),f.ZP.error("Не удалось войти в аккаунт",{icon:"❌"})}};return(0,a.jsx)(c.RV,{...s,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:s.handleSubmit(r),children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"mr-2",children:[(0,a.jsx)(u.D,{text:"Вход в аккаунт",size:"md",className:"font-bold"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Введите свою почту, чтобы войти в свой аккаунт"})]}),(0,a.jsx)("img",{src:"/assets/images/phone-icon.png",alt:"phone-icon",width:60,height:60})]}),(0,a.jsx)(m.y,{name:"email",label:"E-Mail",required:!0}),(0,a.jsx)(m.y,{name:"password",label:"Пароль",type:"password",required:!0}),(0,a.jsx)(x.zx,{loading:s.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Войти"})]})})};var h=s(19562);let g=e=>{let{onClose:t,onClickLogin:s}=e,r=(0,c.cI)({resolver:(0,d.F)(o.Ms),defaultValues:{email:"",fullName:"",password:"",confirmPassword:""}}),n=async e=>{try{await (0,h.a$)({email:e.email,fullName:e.fullName,password:e.password}),f.ZP.error("Регистрация успешна \uD83D\uDCDD. Подтвердите свою почту",{icon:"✅"}),null==t||t()}catch(e){return f.ZP.error("Неверный E-Mail или пароль",{icon:"❌"})}};return(0,a.jsx)(c.RV,{...r,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5",onSubmit:r.handleSubmit(n),children:[(0,a.jsx)(m.y,{name:"email",label:"E-Mail",required:!0}),(0,a.jsx)(m.y,{name:"fullName",label:"Полное имя",required:!0}),(0,a.jsx)(m.y,{name:"password",label:"Пароль",type:"password",required:!0}),(0,a.jsx)(m.y,{name:"confirmPassword",label:"Подтвердите пароль",type:"password",required:!0}),(0,a.jsx)(x.zx,{loading:r.formState.isSubmitting,className:"h-12 text-base",type:"submit",children:"Зарегистрироваться"})]})})},j=e=>{let{open:t,onClose:s}=e,[c,o]=l.useState("login"),d=()=>{s()};return(0,a.jsx)(n.Dialog,{open:t,onOpenChange:d,children:(0,a.jsxs)(n.DialogContent,{className:"w-[450px] bg-white p-10",children:["login"===c?(0,a.jsx)(p,{onClose:d}):(0,a.jsx)(g,{onClose:d}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(r.zx,{variant:"secondary",onClick:()=>(0,i.signIn)("github",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[(0,a.jsx)("img",{className:"w-6 h-6",src:"https://github.githubassets.com/favicons/favicon.svg"}),"GitHub"]}),(0,a.jsxs)(r.zx,{variant:"secondary",onClick:()=>(0,i.signIn)("google",{callbackUrl:"/",redirect:!0}),type:"button",className:"gap-2 h-12 p-2 flex-1",children:[(0,a.jsx)("img",{className:"w-6 h-6",src:"https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg"}),"Google"]})]}),(0,a.jsx)(r.zx,{variant:"outline",onClick:()=>{o("login"===c?"register":"login")},type:"button",className:"h-12",children:"login"!==c?"Войти":"Регистрация"})]})})}},76142:function(e,t,s){"use strict";s.d(t,{Ms:function(){return i},kj:function(){return n}});var a=s(31229);let r=a.z.string().min(4,{message:"Введите корректный пароль"}),n=a.z.object({email:a.z.string().email({message:"Введите корректную почту"}),password:r}),i=n.merge(a.z.object({fullName:a.z.string().min(2,{message:"Введите имя и фамилию"}),confirmPassword:r})).refine(e=>e.password===e.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]})},4642:function(e,t,s){"use strict";s.d(t,{ChooseProductModal:function(){return c}});var a=s(57437),r=s(94441),n=s(65037),i=s(39338),l=s(99376);s(2265);let c=e=>{let{product:t,className:s}=e,c=(0,l.useRouter)();return(0,a.jsx)(n.Dialog,{open:!!t,onOpenChange:()=>c.back(),children:(0,a.jsx)(n.DialogContent,{className:(0,i.cn)("p-0 w-[1060px] max-w-[1060px] min-h-[550px] bg-white overflow-hidden",s),children:(0,a.jsx)(r.HG,{product:t,onSubmit:()=>c.back()})})})}},94582:function(e,t,s){"use strict";s.d(t,{Q:function(){return a.AuthModal}}),s(4642);var a=s(48731)},75961:function(e,t,s){"use strict";s.d(t,{p:function(){return n}});var a=s(57437),r=s(39338);s(2265);let n=e=>{let{imageUrl:t,size:s,className:n}=e;return(0,a.jsxs)("div",{className:(0,r.cn)("flex items-center justify-center flex-1 relative w-full",n),children:[(0,a.jsx)("img",{src:t,alt:"Logo",className:(0,r.cn)("relative left-2 top-2 transition-all z-10 duration-300",{"w-[300px] h-[300px]":20===s,"w-[400px] h-[400px]":30===s,"w-[500px] h-[500px]":40===s})}),(0,a.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dashed border-2 rounded-full border-gray-200 w-[450px] h-[450px]"}),(0,a.jsx)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-dotted border-2 rounded-full border-gray-100 w-[370px] h-[370px]"})]})}},80661:function(e,t,s){"use strict";s.d(t,{I:function(){return c}});var a=s(57437),r=s(99397),n=s(27648);s(2265);var i=s(79592),l=s(63003);let c=e=>{let{id:t,name:s,price:c,imageUrl:o,className:d,ingredients:u}=e;return(0,a.jsx)("div",{children:(0,a.jsxs)(n.default,{href:"/product/".concat(t),children:[(0,a.jsx)("div",{className:"flex justify-content p-6 bg-secondary rounded-lg h-[260px]",children:(0,a.jsx)("img",{className:"w-[215px] h-[215px]",src:o,alt:"Logo"})}),(0,a.jsx)(l.D,{text:s,size:"sm",className:"mb-1 mt-3 font-bold"}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:u.map(e=>e.name).join(", ")}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,a.jsxs)("span",{className:"text-[20px]",children:["от ",(0,a.jsx)("b",{children:c})]}),(0,a.jsxs)(i.z,{variant:"secondary",className:"text-base font-bold",children:[(0,a.jsx)(r.Z,{className:"w-5 h-5 mr-1",size:20}),"Добавить"]})]})]})})}},2418:function(e,t,s){"use strict";s.d(t,{ProductForm:function(){return g}});var a=s(57437),r=s(62362),n=s(69064),i=s(39338);s(2265);var l=s(75961),c=s(63003),o=s(49803),d=s(69248),u=s(86733),m=s(11263),x=s(58826),f=s(55369);let p=e=>{let{imageUrl:t,name:s,ingredients:r,items:n,onSubmit:p,className:h,loading:g}=e,{size:j,type:b,selectedIngredients:v,availableSizes:y,currentItemId:N,setSize:w,setType:z,addIngredient:C}=(0,x.a)(n),{totalPrice:k,textDetails:S}=(0,f.H)(b,j,n,r,v);return(0,a.jsxs)("div",{className:(0,i.cn)(h,"flex flex-1"),children:[(0,a.jsx)(l.p,{imageUrl:t,size:j}),(0,a.jsxs)("div",{className:"w-[490px] bg-[#f7f6f5] p-7",children:[(0,a.jsx)(c.D,{text:s,size:"md",className:"font-extrabold mb-1"}),(0,a.jsx)("p",{className:"text-gray-400",children:S}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 my-5",children:[(0,a.jsx)(d.GroupVariants,{items:y,value:String(j),onClick:e=>w(Number(e))}),(0,a.jsx)(d.GroupVariants,{items:m.US,value:String(b),onClick:e=>z(Number(e))})]}),(0,a.jsx)("div",{className:"bg-gray-50 p-5 rounded-md h-[420px] overflow-auto scrollbar mt-5",children:(0,a.jsx)("div",{className:"grid grid-cols-3 gap-3",children:r.map(e=>(0,a.jsx)(u.d,{name:e.name,price:e.price,imageUrl:e.imageUrl,onClick:()=>C(e.id),active:v.has(e.id)},e.id))})}),(0,a.jsxs)(o.zx,{onClick:()=>{N&&p(N,Array.from(v))},className:"h-[55px] px-10 text-base rounded-[18px] w-full mt-10",children:["Добавить в корзину за ",k," ₽"]})]})]})};var h=s(34500);let g=e=>{let{product:t,onSubmit:s}=e,[i,l]=(0,r.x)(e=>[e.addCartItem,e.loading]),c=t.items[0],o=!!c.pizzaType,d=async(e,a)=>{try{let r=null!=e?e:c.id;await i({productItemId:r,ingredients:a}),n.ZP.success(t.name+" добавилась в корзину"),null==s||s()}catch(e){n.ZP.error("Не удалось добавить товар в корзину")}};return o?(0,a.jsx)(p,{imageUrl:t.imageUrl,name:t.name,ingredients:t.ingredients,items:t.items,onSubmit:d,loading:l}):(0,a.jsx)(h.K,{imageUrl:t.imageUrl,name:t.name,onSubmit:d,price:c.price,loading:l})}},24628:function(e,t,s){"use strict";s.d(t,{ProductsGroupList:function(){return d}});var a=s(57437),r=s(39338),n=s(8606),i=s(2265),l=s(56407),c=s(80661),o=s(63003);let d=e=>{let{title:t,items:s,className:d,listClassName:u,categoryId:m}=e,x=(0,n.v)(e=>e.setActiveId),f=i.useRef(null),p=(0,l.Z)(f,{threshold:.4});return i.useEffect(()=>{(null==p?void 0:p.isIntersecting)&&x(m)},[m,null==p?void 0:p.isIntersecting,t]),(0,a.jsxs)("div",{id:t,ref:f,children:[(0,a.jsx)(o.D,{text:t,size:"lg",className:"font-extrabold mb-5"}),(0,a.jsx)("div",{className:(0,r.cn)("grid grid-cols-3 gap-[50px]",u),children:s.map(e=>(0,a.jsx)(c.I,{id:e.id,name:e.name,imageUrl:e.imageUrl,price:e.items[0].price,ingredients:e.ingredients},e.id))})]})}},46643:function(e,t,s){"use strict";s.d(t,{B:function(){return o}});var a=s(57437),r=s(80605),n=s(49803),i=s(92369),l=s(67815),c=s(27648);let o=e=>{let{className:t,onClickSignIn:s}=e,{data:o}=(0,r.useSession)();return(0,a.jsx)("div",{className:t,children:o?(0,a.jsx)(c.default,{href:"/profile",children:(0,a.jsxs)(n.zx,{variant:"secondary",className:"flex items-center gap-2",children:[(0,a.jsx)(l.Z,{size:18}),"Профиль"]})}):(0,a.jsxs)(n.zx,{onClick:s,variant:"outline",className:"flex items-center gap-1",children:[(0,a.jsx)(i.Z,{size:16}),"Войти"]})})}},87388:function(e,t,s){"use strict";s.d(t,{ProfileForm:function(){return f}});var a=s(57437),r=s(13590);s(2265);var n=s(29501),i=s(76142),l=s(69064),c=s(80605),o=s(47098),d=s(63003),u=s(9111),m=s(49803),x=s(19562);let f=e=>{let{data:t}=e,s=(0,n.cI)({resolver:(0,r.F)(i.Ms),defaultValues:{fullName:t.fullName,email:t.email,password:"",confirmPassword:""}}),f=async e=>{try{await (0,x.gS)({email:e.email,fullName:e.fullName,password:e.password}),l.ZP.error("Данные обновлены \uD83D\uDCDD",{icon:"✅"})}catch(e){return l.ZP.error("Ошибка при обновлении данных",{icon:"❌"})}};return(0,a.jsxs)(o.W,{className:"my-10",children:[(0,a.jsx)(d.D,{text:"Личные данные | #".concat(t.id),size:"md",className:"font-bold"}),(0,a.jsx)(n.RV,{...s,children:(0,a.jsxs)("form",{className:"flex flex-col gap-5 w-96 mt-10",onSubmit:s.handleSubmit(f),children:[(0,a.jsx)(u.y,{name:"email",label:"E-Mail",required:!0}),(0,a.jsx)(u.y,{name:"fullName",label:"Полное имя",required:!0}),(0,a.jsx)(u.y,{type:"password",name:"password",label:"Новый пароль",required:!0}),(0,a.jsx)(u.y,{type:"password",name:"confirmPassword",label:"Повторите пароль",required:!0}),(0,a.jsx)(m.zx,{disabled:s.formState.isSubmitting,className:"text-base mt-10",type:"submit",children:"Сохранить"}),(0,a.jsx)(m.zx,{onClick:()=>{(0,c.signOut)({callbackUrl:"/"})},variant:"secondary",disabled:s.formState.isSubmitting,className:"text-base",type:"button",children:"Выйти"})]})})]})}},94056:function(e,t,s){"use strict";s.d(t,{Providers:function(){return c}});var a=s(57437),r=s(69064),n=s(80605),i=s(36539),l=s.n(i);let c=e=>{let{children:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.SessionProvider,{children:t}),(0,a.jsx)(r.x7,{}),(0,a.jsx)(l(),{})]})}},21830:function(e,t,s){"use strict";s.d(t,{RangeSlider:function(){return l}});var a=s(57437),r=s(2265),n=s(38846),i=s(39338);let l=r.forwardRef((e,t)=>{let{className:s,min:l,max:c,step:o,formatLabel:d,value:u,onValueChange:m,...x}=e,f=Array.isArray(u)?u:[l,c],[p,h]=r.useState(f);return r.useEffect(()=>{h(Array.isArray(u)?u:[l,c])},[l,c,u]),(0,a.jsxs)(n.fC,{ref:t,min:l,max:c,step:o,value:p,onValueChange:e=>{h(e),m&&m(e)},className:(0,i.cn)("relative flex w-full touch-none select-none mb-6 items-center",s),...x,children:[(0,a.jsx)(n.fQ,{className:"relative h-1 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(n.e6,{className:"absolute h-full bg-primary"})}),p.map((e,t)=>(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)("div",{className:"absolute text-center",style:{left:"calc(".concat((e-l)/(c-l)*100,"% + 0px)"),top:"10px"},children:(0,a.jsx)("span",{className:"text-sm",children:d?d(e):e})}),(0,a.jsx)(n.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-white shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]},t))]})});l.displayName=n.fC.displayName},33319:function(e,t,s){"use strict";s.d(t,{H:function(){return r}});var a=s(57437);s(2265);let r=()=>(0,a.jsx)("span",{className:"text-red-500",children:"*"})},15144:function(e,t,s){"use strict";s.d(t,{SearchInput:function(){return u}});var a=s(57437),r=s(2265),n=s(73247),i=s(39338),l=s(58095),c=s(95011),o=s(27648),d=s(44607);let u=e=>{let{className:t}=e,[s,u]=(0,r.useState)(""),[m,x]=(0,r.useState)(!1),[f,p]=(0,r.useState)([]),h=(0,r.useRef)(null);(0,l.Z)(h,()=>{x(!1)}),(0,c.Z)(async()=>{try{let e=await d.V.products.search(s);p(e)}catch(e){console.log(e)}},250,[s]);let g=()=>{x(!1),u(""),p([])};return(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsx)("div",{className:"fixed top-0 left-0 bottom-0 right-0 bg-black/50 z-30"}),(0,a.jsxs)("div",{ref:h,className:(0,i.cn)("flex rounded-2xl flex-1 justify-between relative h-11 z-30",t),children:[(0,a.jsx)(n.Z,{className:"absolute top-1/2 translate-y-[-50%] left-3 h-5 text-gray-400"}),(0,a.jsx)("input",{className:"rounded-2xl outline-none w-full bg-gray-100 pl-11",type:"text",placeholder:"Найти пиццу...",onFocus:()=>x(!0),value:s,onChange:e=>u(e.target.value)})]}),f.length>0&&(0,a.jsx)("div",{className:(0,i.cn)("absolute w-full bg-white rounded-xl py-2 top-14 shadow-md transition-all duration-200 invisible opacity-0 z-30",m&&"visible opacity-100 top-20"),children:f.map(e=>(0,a.jsxs)(o.default,{href:"/product/".concat(e.id),className:"flex items-center gap-3 w-full px-3 py-2 hover:bg-primary/10",onClick:g,children:[(0,a.jsx)("img",{className:"rounded-sm h-8 w-8",src:e.imageUrl,alt:e.name}),(0,a.jsx)("span",{children:e.name})]},e.id))})]})}},72064:function(e,t,s){"use strict";s.d(t,{Stories:function(){return u}});var a=s(57437),r=s(44607),n=s(2265),i=s(47098),l=s(39338),c=s(32489),o=s(8356),d=s.n(o);let u=e=>{let{className:t}=e,[s,o]=n.useState([]),[u,m]=n.useState(!1),[x,f]=n.useState();n.useEffect(()=>{!async function(){o(await r.V.stories.getAll())}()},[]);let p=e=>{f(e),e.items.length>0&&m(!0)};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(i.W,{className:(0,l.cn)("flex items-center justify-between gap-2 my-10",t),children:[0===s.length&&[...Array(6)].map((e,t)=>(0,a.jsx)("div",{className:"w-[200px] h-[250px] bg-gray-200 rounded-md animate-pulse"},t)),s.map(e=>(0,a.jsx)("img",{onClick:()=>p(e),className:"rounded-md cursor-pointer",height:250,width:200,src:e.previewImageUrl},e.id)),u&&(0,a.jsx)("div",{className:"absolute left-0 top-0 w-full h-full bg-black/80 flex items-center justify-center z-30",children:(0,a.jsxs)("div",{className:"relative",style:{width:520},children:[(0,a.jsx)("button",{className:"absolute -right-10 -top-5 z-30",onClick:()=>m(!1),children:(0,a.jsx)(c.Z,{className:"absolute top-0 right-0 w-8 h-8 text-white/50"})}),(0,a.jsx)(d(),{onAllStoriesEnd:()=>m(!1),stories:(null==x?void 0:x.items.map(e=>({url:e.sourceUrl})))||[],defaultInterval:3e3,width:520,height:800})]})})]})})}},63003:function(e,t,s){"use strict";s.d(t,{D:function(){return n}});var a=s(61994),r=s(2265);let n=e=>{let{text:t,size:s="sm",className:n}=e;return r.createElement({xs:"h5",sm:"h4",md:"h3",lg:"h2",xl:"h1","2xl":"h1"}[s],{className:(0,a.Z)({xs:"text-[16px] ys-text",sm:"text-[22px] ys-text",md:"text-[26px] ys-text",lg:"text-[32px] ys-display",xl:"text-[40px] ys-display","2xl":"text-[48px] ys-display"}[s],n)},t)}},44149:function(e,t,s){"use strict";s.d(t,{n:function(){return i}});var a=s(57437);s(2265);var r=s(63003),n=s(39338);let i=e=>{let{title:t,endAdornment:s,className:i,contentClassName:l,children:c}=e;return(0,a.jsxs)("div",{className:(0,n.cn)("bg-white rounded-3xl",i),children:[t&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 px-7 border-b border-gray-100",children:[(0,a.jsx)(r.D,{text:t,size:"sm",className:"font-bold"}),s]}),(0,a.jsx)("div",{className:(0,n.cn)("px-5 py-4",l),children:c})]})}},79592:function(e,t,s){"use strict";s.d(t,{z:function(){return d}});var a=s(57437),r=s(2265),n=s(37053),i=s(77712),l=s(39338),c=s(51817);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md active:translate-y-[1px] text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:bg-gray-500",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary bg-transparent hover:bg-secondary",secondary:"bg-secondary text-primary hover:bg-secondary/50",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:d=!1,children:u,disabled:m,loading:x,...f}=e,p=d?n.g7:"button";return(0,a.jsx)(p,{disabled:m||x,className:(0,l.cn)(o({variant:r,size:i,className:s})),ref:t,...f,children:x?(0,a.jsx)(c.Z,{className:"w-5 h-5 animate-spin"}):u})});d.displayName="Button"},83139:function(e,t,s){"use strict";s.d(t,{Checkbox:function(){return c}});var a=s(57437),r=s(2265),n=s(9270),i=s(30401),l=s(39338);let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 bg-gray-100 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(n.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(i.Z,{className:"h-4 w-4",strokeWidth:3})})})});c.displayName=n.fC.displayName},65037:function(e,t,s){"use strict";s.r(t),s.d(t,{Dialog:function(){return c},DialogClose:function(){return u},DialogContent:function(){return x},DialogDescription:function(){return g},DialogFooter:function(){return p},DialogHeader:function(){return f},DialogOverlay:function(){return m},DialogPortal:function(){return d},DialogTitle:function(){return h},DialogTrigger:function(){return o}});var a=s(57437),r=s(2265),n=s(49027),i=s(20653),l=s(39338);let c=n.fC,o=n.xz,d=n.h_,u=n.x8,m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=n.aV.displayName;let x=r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(m,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[r,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.Pxu,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=n.VY.displayName;let f=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};f.displayName="DialogHeader";let p=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};p.displayName="DialogFooter";let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});h.displayName=n.Dx.displayName;let g=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});g.displayName=n.dk.displayName},63044:function(e,t,s){"use strict";s.d(t,{Drawer:function(){return l}});var a=s(57437),r=s(2265),n=s(4216),i=s(39338);let l=e=>{let{shouldScaleBackground:t=!0,...s}=e;return(0,a.jsx)(n.dy.Root,{shouldScaleBackground:t,...s})};l.displayName="Drawer",n.dy.Trigger;let c=n.dy.Portal;n.dy.Close;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dy.Overlay,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",s),...r})});o.displayName=n.dy.Overlay.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(o,{}),(0,a.jsxs)(n.dy.Content,{ref:t,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...l,children:[(0,a.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),r]})]})}).displayName="DrawerContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dy.Title,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})}).displayName=n.dy.Title.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.dy.Description,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})}).displayName=n.dy.Description.displayName},49803:function(e,t,s){"use strict";s.d(t,{zx:function(){return a.z},XZ:function(){return r.Checkbox},II:function(){return n.I},Od:function(){return c}});var a=s(79592),r=s(83139);s(65037),s(63044);var n=s(88321);s(47772),s(7426);var i=s(57437),l=s(39338);function c(e){let{className:t,...s}=e;return(0,i.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}s(96702),s(29308)},88321:function(e,t,s){"use strict";s.d(t,{I:function(){return i}});var a=s(57437),r=s(2265),n=s(39338);let i=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...i})});i.displayName="Input"},47772:function(e,t,s){"use strict";s.d(t,{Popover:function(){return l}});var a=s(57437),r=s(2265),n=s(27312),i=s(39338);let l=n.fC;n.xz,n.ee,r.forwardRef((e,t)=>{let{className:s,align:r="center",sideOffset:l=4,...c}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsx)(n.VY,{ref:t,align:r,sideOffset:l,className:(0,i.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...c})})}).displayName=n.VY.displayName},7426:function(e,t,s){"use strict";s.d(t,{Select:function(){return c}});var a=s(57437),r=s(2265),n=s(20653),i=s(68856),l=s(39338);let c=i.fC;i.ZA,i.B4,r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(i.xz,{ref:t,className:(0,l.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...c,children:[r,(0,a.jsx)(i.JO,{asChild:!0,children:(0,a.jsx)(n.jnn,{className:"h-4 w-4 opacity-50"})})]})}).displayName=i.xz.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.u_,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.g8U,{})})});o.displayName=i.u_.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.$G,{ref:t,className:(0,l.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.v4q,{})})});d.displayName=i.$G.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...c}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsxs)(i.VY,{ref:t,className:(0,l.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...c,children:[(0,a.jsx)(o,{}),(0,a.jsx)(i.l_,{className:(0,l.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(d,{})]})})}).displayName=i.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",s),...r})}).displayName=i.__.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(i.ck,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...c,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(n.nQG,{className:"h-4 w-4"})})}),(0,a.jsx)(i.eT,{children:r})]})}).displayName=i.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.Z0.displayName},96702:function(e,t,s){"use strict";s.d(t,{Slider:function(){return l}});var a=s(57437),r=s(2265),n=s(38846),i=s(39338);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(n.fC,{ref:t,className:(0,i.cn)("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,a.jsx)(n.fQ,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:(0,a.jsx)(n.e6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(n.bU,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})});l.displayName=n.fC.displayName},29308:function(e,t,s){"use strict";s.d(t,{g:function(){return i}});var a=s(57437),r=s(2265),n=s(39338);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...r})});i.displayName="Textarea"},61032:function(e,t,s){"use strict";s.d(t,{a:function(){return r}});var a=s(31229);let r=a.z.object({firstName:a.z.string().min(2,{message:"Имя должно содержать не менее 2-х символов"}),lastName:a.z.string().min(2,{message:"Фамилия должна содержать не менее 2-х символов"}),email:a.z.string().email({message:"Введите корректную почту"}),phone:a.z.string().min(10,{message:"Введите корректный номер телефона"}),address:a.z.string().min(5,{message:"Введите корректный адрес"}),comment:a.z.string().optional()})},11263:function(e,t,s){"use strict";s.d(t,{E$:function(){return r},US:function(){return n},oh:function(){return a}});let a={1:"традиционное",2:"тонкое"},r=Object.entries({20:"Маленькая",30:"Средняя",40:"Большая"}).map(e=>{let[t,s]=e;return{name:s,value:t}}),n=Object.entries(a).map(e=>{let[t,s]=e;return{name:s,value:t}})},93227:function(e,t,s){"use strict";s.d(t,{jD:function(){return x},mN:function(){return i},eO:function(){return c},n9:function(){return u}});var a=s(99376),r=s(70491),n=s(2265);let i=()=>{var e,t,s;(0,a.useRouter)();let i=(0,a.useSearchParams)(),[l,{toggle:c}]=(0,r.Z)(new Set(null===(e=i.get("ingredients"))||void 0===e?void 0:e.split(","))),[o,{toggle:d}]=(0,r.Z)(new Set(i.has("sizes")?null===(t=i.get("sizes"))||void 0===t?void 0:t.split(","):[])),[u,{toggle:m}]=(0,r.Z)(new Set(i.has("pizzaTypes")?null===(s=i.get("pizzaTypes"))||void 0===s?void 0:s.split(","):[])),[x,f]=(0,n.useState)({priceFrom:Number(i.get("priceFrom"))||void 0,priceTo:Number(i.get("priceTo"))||void 0}),p=(e,t)=>{f(s=>({...s,[e]:t}))};return(0,n.useMemo)(()=>({sizes:o,pizzaTypes:u,selectedIngredients:l,prices:x,setPrices:p,setPizzaTypes:m,setSizes:d,setSelectedIngredients:c}),[o,u,l,x])};var l=s(44607);let c=()=>{let[e,t]=(0,n.useState)([]),[s,a]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async function(){try{a(!0);let e=await l.V.ingredients.getAll();t(e)}catch(e){console.log(e)}finally{a(!1)}})()},[]),{ingredients:e,loading:s}};var o=s(64927),d=s.n(o);let u=e=>{let t=n.useRef(!1),s=(0,a.useRouter)();n.useEffect(()=>{if(t.current){let t={...e.prices,pizzaTypes:Array.from(e.pizzaTypes),sizes:Array.from(e.sizes),ingredients:Array.from(e.selectedIngredients)},a=d().stringify(t,{arrayFormat:"comma"});s.push("?".concat(a),{scroll:!1}),console.log(e,999)}t.current=!0},[e])};s(58826);var m=s(62362);let x=()=>{let e=(0,m.x)(e=>e);return(0,n.useEffect)(()=>{e.fetchCartItems()},[]),e}},58826:function(e,t,s){"use strict";s.d(t,{a:function(){return i}});var a=s(2265),r=s(70491),n=s(19534);let i=e=>{var t;let[s,i]=(0,a.useState)(20),[l,c]=(0,a.useState)(1),[o,{toggle:d}]=(0,r.Z)(new Set([])),u=(0,n.I7)(l,e),m=null===(t=e.find(e=>e.pizzaType===l&&e.size===s))||void 0===t?void 0:t.id;return(0,a.useEffect)(()=>{let e=null==u?void 0:u.find(e=>Number(e.value)===s&&!e.disabled),t=null==u?void 0:u.find(e=>!e.disabled);!e&&t&&i(Number(t.value))},[l]),{size:s,type:l,selectedIngredients:o,availableSizes:u,currentItemId:m,setSize:i,setType:c,addIngredient:d}}},55369:function(e,t,s){"use strict";s.d(t,{H:function(){return n}});var a=s(11263);let r=(e,t,s,a,r)=>{var n;return((null===(n=s.find(s=>s.pizzaType===e&&s.size===t))||void 0===n?void 0:n.price)||0)+a.filter(e=>r.has(e.id)).reduce((e,t)=>e+t.price,0)},n=(e,t,s,n,i)=>({totalPrice:r(e,t,s,n,i),textDetails:"".concat(t," см, тесто ").concat(a.oh[e])})},19534:function(e,t,s){"use strict";s.d(t,{I7:function(){return r},iS:function(){return l},qC:function(){return n}});var a=s(11263);let r=(e,t)=>{let s=t.filter(t=>t.pizzaType===e);return a.E$.map(e=>({name:e.name,value:e.value,disabled:!s.some(t=>Number(t.size)===Number(e.value))}))};s(55369);let n=(e,t,s)=>{let r=[];if(s&&t){let e=a.oh[t];r.push("".concat(e," ").concat(s," см"))}return e&&r.push(...e.map(e=>e.name)),r.join(", ")},i=e=>(e.ingredients.reduce((e,t)=>e+t.price,0)+e.productItem.price)*e.quantity,l=e=>{let t=e.items.map(e=>({id:e.id,quantity:e.quantity,name:e.productItem.product.name,imageUrl:e.productItem.product.imageUrl,disabled:!1,price:i(e),pizzaSize:e.productItem.size,pizzaType:e.productItem.pizzaType,ingredients:e.ingredients.map(e=>({name:e.name,price:e.price}))}));return console.log("Processed items123:",t),{items:t,totalAmount:e.totalAmount}};s(81379),s(25566),s(25566)},39338:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(61994),r=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t)).trim()}},44607:function(e,t,s){"use strict";s.d(t,{V:function(){return b}});var a,r,n={};s.r(n),s.d(n,{search:function(){return u}});var i={};s.r(i),s.d(i,{getAll:function(){return m}});var l={};s.r(l),s.d(l,{addCartItem:function(){return h},getCart:function(){return x},removeCartItem:function(){return p},updateItemQuantity:function(){return f}});var c={};s.r(c),s.d(c,{getMe:function(){return g}});var o={};s.r(o),s.d(o,{getAll:function(){return j}});let d=s(83464).Z.create({baseURL:"/api"});(a=r||(r={})).SEARCH_PRODUCTS="products/search",a.INGREDIENTS="ingredients";let u=async e=>(await d.get(r.SEARCH_PRODUCTS,{params:{query:e}})).data,m=async()=>(await d.get(r.INGREDIENTS)).data,x=async()=>(await d.get("/cart")).data,f=async(e,t)=>(await d.patch("/cart/"+e,{quantity:t})).data,p=async e=>(await d.delete("/cart/"+e)).data,h=async e=>(await d.post("/cart",e)).data,g=async()=>{let{data:e}=await d.get("/auth/me");return e},j=async()=>{let{data:e}=await d.get("/stories");return e},b={products:n,ingredients:i,cart:l,auth:c,stories:o}},8606:function(e,t,s){"use strict";s.d(t,{v:function(){return a}});let a=(0,s(59625).Ue)()(e=>({activeId:1,setActiveId:t=>e({activeId:t})}))},62362:function(e,t,s){"use strict";s.d(t,{x:function(){return i}});var a=s(59625),r=s(44607),n=s(19534);let i=(0,a.Ue)((e,t)=>({items:[],error:!1,loading:!0,totalAmount:0,fetchCartItems:async()=>{try{e({loading:!0,error:!1});let t=await r.V.cart.getCart();e((0,n.iS)(t))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}},updateItemQuantity:async(t,s)=>{try{e({loading:!0,error:!1});let a=await r.V.cart.updateItemQuantity(t,s);e((0,n.iS)(a))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}},removeCartItem:async t=>{try{e(e=>({loading:!0,error:!1,items:e.items.map(e=>e.id===t?{...e,disabled:!0}:e)}));let s=await r.V.cart.removeCartItem(t);e((0,n.iS)(s))}catch(t){console.error(t),e({error:!0})}finally{e(e=>({loading:!1,items:e.items.map(e=>({...e,disabled:!1}))}))}},addCartItem:async t=>{try{e({loading:!0,error:!1});let s=await r.V.cart.addCartItem(t);e((0,n.iS)(s))}catch(t){console.error(t),e({error:!0})}finally{e({loading:!1})}}}));s(8606)}}]);